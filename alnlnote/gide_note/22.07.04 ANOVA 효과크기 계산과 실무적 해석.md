# 22.07.04 ANOVA íš¨ê³¼í¬ê¸° ê³„ì‚°ê³¼ ì‹¤ë¬´ì  í•´ì„
*í†µê³„ì  ìœ ì˜ì„±ì„ ë„˜ì–´ì„œ - ì‹¤ë¬´ì ìœ¼ë¡œ ì˜ë¯¸ìˆëŠ” ì°¨ì´ì¸ê°€?*

---

## ğŸ¯ íš¨ê³¼í¬ê¸°(Effect Size)ë€?

**í†µê³„ì  ìœ ì˜ì„±**ê³¼ **ì‹¤ë¬´ì  ì¤‘ìš”ì„±**ì€ ë‹¤ë¦…ë‹ˆë‹¤! p-valueê°€ 0.001ì´ë¼ê³  í•´ì„œ í•­ìƒ ì¤‘ìš”í•œ ì°¨ì´ëŠ” ì•„ë‹ˆì—ìš”.

### ğŸ¤” ì™œ íš¨ê³¼í¬ê¸°ê°€ ì¤‘ìš”í•œê°€?

```
ìƒí™© 1: ëŒ€ê¸°ì—… vs ì¤‘ì†Œê¸°ì—… ê¸‰ì—¬ ì°¨ì´
- í‰ê·  ì°¨ì´: 100ë§Œì›
- p-value: 0.03 (ìœ ì˜í•¨)
- ì‹¤ë¬´ì  ì˜ë¯¸: ë§¤ìš° ì¤‘ìš”í•œ ì°¨ì´! ğŸ’°

ìƒí™© 2: ë‘ ì¹˜ë£Œë²•ì˜ í˜ˆì•• ì°¨ì´  
- í‰ê·  ì°¨ì´: 0.5mmHg
- p-value: 0.001 (ë§¤ìš° ìœ ì˜í•¨)
- ì‹¤ë¬´ì  ì˜ë¯¸: ê±°ì˜ ì˜ë¯¸ì—†ëŠ” ì°¨ì´... ğŸ¤·â€â™€ï¸
```

> **í•µì‹¬**: p-valueëŠ” "ì°¨ì´ê°€ ìˆëŠ”ì§€"ë¥¼, íš¨ê³¼í¬ê¸°ëŠ” "ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œ ì°¨ì´ì¸ì§€"ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.

---

## ğŸ“Š ANOVA íš¨ê³¼í¬ê¸° ì§€í‘œë“¤

### ğŸ¯ 1. Î·Â² (ì—íƒ€ ì œê³±, Eta Squared)

**ê°€ì¥ ì¼ë°˜ì ì¸ ANOVA íš¨ê³¼í¬ê¸° ì§€í‘œ**

```
Î·Â² = SS_between / SS_total = ì§‘ë‹¨ ê°„ ì œê³±í•© / ì „ì²´ ì œê³±í•©
```

#### ğŸ“ˆ Cohenì˜ íš¨ê³¼í¬ê¸° í•´ì„ ê¸°ì¤€

| Î·Â² ê°’ | íš¨ê³¼í¬ê¸° | í•´ì„ | ì‹¤ë¬´ì  ì˜ë¯¸ |
|-------|---------|------|-------------|
| **0.01** | ì‘ì€ íš¨ê³¼ | 1% ë¶„ì‚° ì„¤ëª… | í†µê³„ì ìœ¼ë¡œë§Œ ì˜ë¯¸ |
| **0.06** | ì¤‘ê°„ íš¨ê³¼ | 6% ë¶„ì‚° ì„¤ëª… | ì‹¤ë¬´ì  ê³ ë ¤ í•„ìš” |
| **0.14** | í° íš¨ê³¼ | 14% ë¶„ì‚° ì„¤ëª… | ë§¤ìš° ì¤‘ìš”í•œ ì°¨ì´ |

### ğŸ¯ 2. Ï‰Â² (ì˜¤ë©”ê°€ ì œê³±, Omega Squared)

**Î·Â²ì˜ í¸í–¥ì„ ë³´ì •í•œ ì§€í‘œ** (ë” ë³´ìˆ˜ì )

```
Ï‰Â² = (SS_between - (k-1) Ã— MS_error) / (SS_total + MS_error)
```

### ğŸ¯ 3. í¸ì˜ì  ì•Œë°” ê¸‰ì—¬ ì˜ˆì œë¡œ ì‹¤ìŠµ

```python
import numpy as np
import pandas as pd
import scipy.stats as stats
from statsmodels.formula.api import ols
from statsmodels.stats.anova import anova_lm
from statsmodels.stats.multicomp import pairwise_tukeyhsd
import matplotlib.pyplot as plt

def calculate_effect_sizes(anova_table):
    """ANOVA ê²°ê³¼ë¡œë¶€í„° íš¨ê³¼í¬ê¸° ê³„ì‚°"""
    
    # ANOVA í…Œì´ë¸”ì—ì„œ ê°’ ì¶”ì¶œ
    ss_between = anova_table.iloc[0, 1]  # sum_sq of factor
    ss_within = anova_table.iloc[1, 1]   # sum_sq of residual  
    ss_total = ss_between + ss_within
    
    df_between = anova_table.iloc[0, 0]  # df of factor
    df_within = anova_table.iloc[1, 0]   # df of residual
    ms_error = anova_table.iloc[1, 2]    # mean_sq of residual
    
    # Î·Â² (ì—íƒ€ ì œê³±) ê³„ì‚°
    eta_squared = ss_between / ss_total
    
    # Ï‰Â² (ì˜¤ë©”ê°€ ì œê³±) ê³„ì‚° - í¸í–¥ ë³´ì •
    omega_squared = (ss_between - df_between * ms_error) / (ss_total + ms_error)
    
    # ë¶€ë¶„ Î·Â² (Partial Eta Squared) - ë‹¤ë¥¸ íš¨ê³¼ë¥¼ ì œì™¸í•œ ìˆœìˆ˜ íš¨ê³¼
    partial_eta_squared = ss_between / (ss_between + ss_within)
    
    return {
        'eta_squared': eta_squared,
        'omega_squared': max(0, omega_squared),  # ìŒìˆ˜ ë°©ì§€
        'partial_eta_squared': partial_eta_squared
    }

def interpret_effect_size(eta_squared):
    """íš¨ê³¼í¬ê¸° í•´ì„"""
    if eta_squared < 0.01:
        return "ë¬´ì‹œí•  ìˆ˜ ìˆëŠ” íš¨ê³¼", "ê±°ì˜ ì˜ë¯¸ì—†ìŒ"
    elif eta_squared < 0.06:
        return "ì‘ì€ íš¨ê³¼", "í†µê³„ì ìœ¼ë¡œë§Œ ì˜ë¯¸"
    elif eta_squared < 0.14:
        return "ì¤‘ê°„ íš¨ê³¼", "ì‹¤ë¬´ì  ê³ ë ¤ í•„ìš”"
    else:
        return "í° íš¨ê³¼", "ë§¤ìš° ì¤‘ìš”í•œ ì°¨ì´"

# === í¸ì˜ì  ì•Œë°” ê¸‰ì—¬ ë¶„ì„ ===
print("ğŸª GSí¸ì˜ì  3ê°œ ì§€ì—­ ì•Œë°”ìƒ ê¸‰ì—¬ ë¶„ì„")
print("=" * 50)

# ë°ì´í„° ë¡œë”©
url = 'https://raw.githubusercontent.com/pykwon/python/refs/heads/master/testdata_utf8/group3.txt'
data = np.genfromtxt(url, delimiter=',')
df = pd.DataFrame(data, columns=['pay', 'group'])

print(f"ğŸ“Š ë°ì´í„° ê°œìš”: {df.shape[0]}ëª…, {len(df.group.unique())}ê°œ ì§€ì—­")

# ì§‘ë‹¨ë³„ ê¸°ìˆ í†µê³„
group_stats = df.groupby('group')['pay'].agg(['count', 'mean', 'std'])
print("\nğŸ“ˆ ì§€ì—­ë³„ ê¸‰ì—¬ í˜„í™©:")
print(group_stats)

# ì§‘ë‹¨ë³„ ë°ì´í„° ë¶„ë¦¬
gr1 = df[df.group == 1]['pay']
gr2 = df[df.group == 2]['pay'] 
gr3 = df[df.group == 3]['pay']

print(f"\nğŸ’° ì§€ì—­ë³„ í‰ê·  ê¸‰ì—¬:")
print(f"ì§€ì—­ 1: {gr1.mean():.1f}ë§Œì›")
print(f"ì§€ì—­ 2: {gr2.mean():.1f}ë§Œì›") 
print(f"ì§€ì—­ 3: {gr3.mean():.1f}ë§Œì›")
```

### ğŸ”¬ ANOVA ì‹¤í–‰ ë° íš¨ê³¼í¬ê¸° ê³„ì‚°

```python
# ANOVA ì‹¤í–‰
lmodel = ols('pay ~ C(group)', data=df).fit()
anova_result = anova_lm(lmodel, type=2)

print("\nğŸ“Š ANOVA ë¶„ì‚°ë¶„ì„í‘œ:")
print(anova_result)

# íš¨ê³¼í¬ê¸° ê³„ì‚°
effect_sizes = calculate_effect_sizes(anova_result)

print(f"\nğŸ¯ íš¨ê³¼í¬ê¸° ë¶„ì„:")
print(f"Î·Â² (ì—íƒ€ì œê³±): {effect_sizes['eta_squared']:.4f}")
print(f"Ï‰Â² (ì˜¤ë©”ê°€ì œê³±): {effect_sizes['omega_squared']:.4f}")
print(f"ë¶€ë¶„ Î·Â²: {effect_sizes['partial_eta_squared']:.4f}")

# í•´ì„
effect_level, interpretation = interpret_effect_size(effect_sizes['eta_squared'])
print(f"\nğŸ’¡ í•´ì„: {effect_level} ({interpretation})")
print(f"ì„¤ëª…ëœ ë¶„ì‚°: {effect_sizes['eta_squared']*100:.1f}%")

# ì‹¤ë¬´ì  ì˜ë¯¸
if effect_sizes['eta_squared'] >= 0.06:
    print("âœ… ì‹¤ë¬´ì ìœ¼ë¡œ ì˜ë¯¸ìˆëŠ” ì°¨ì´ - ì§€ì—­ë³„ ê¸‰ì—¬ ì •ì±… ê²€í†  í•„ìš”")
else:
    print("âš ï¸ í†µê³„ì ìœ¼ë¡œëŠ” ìœ ì˜í•˜ë‚˜ ì‹¤ë¬´ì ìœ¼ë¡œëŠ” ì‘ì€ ì°¨ì´")
```

---

## ğŸŒ¡ï¸ ì˜¨ë„ì™€ ìŒì‹ì  ë§¤ì¶œ ë¶„ì„ (ì‹¤ì œ ì‚¬ë¡€)

### ğŸ“Š ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„° ë¶„ì„

```python
def analyze_temperature_sales():
    """ì˜¨ë„ì— ë”°ë¥¸ ìŒì‹ì  ë§¤ì¶œ ë¶„ì„ (ì‹¤ì œ ì‚¬ë¡€)"""
    
    print("ğŸŒ¡ï¸ ì˜¨ë„ë³„ ìŒì‹ì  ë§¤ì¶œì•¡ ë¶„ì„")
    print("=" * 50)
    
    # ë°ì´í„° ë¡œë”© ë° ì „ì²˜ë¦¬ (ë¬¸ì„œì—ì„œ ì œê³µëœ ì½”ë“œ ê¸°ë°˜)
    sales_data = pd.read_csv('https://raw.githubusercontent.com/pykwon/python/refs/heads/master/testdata_utf8/tsales.csv',
                            dtype={'YMD': 'object'})
    
    wt_data = pd.read_csv('https://raw.githubusercontent.com/pykwon/python/refs/heads/master/testdata_utf8/tweather.csv')
    
    # ë‚ ì§œ í˜•ì‹ í†µì¼
    wt_data.tm = wt_data.tm.map(lambda x: x.replace('-', ''))
    
    # ë°ì´í„° ë³‘í•©
    frame = sales_data.merge(wt_data, how='left', left_on='YMD', right_on='tm')
    
    # í•„ìš”í•œ ì»¬ëŸ¼ë§Œ ì„ íƒ
    data = frame.iloc[:, [0, 1, 7, 8]]  # ë‚ ì§œ, ë§¤ì¶œì•¡, ìµœê³ ê¸°ì˜¨, ê°•ìˆ˜ëŸ‰
    data.columns = ['YMD', 'AMT', 'maxTa', 'sumRn']
    
    # ì˜¨ë„ êµ¬ê°„í™” (-5~8: ì¶”ìœ„, 8~24: ì ì •, 24~37: ë”ìœ„)
    data['ta_gubun'] = pd.cut(data.maxTa, bins=[-5, 8, 24, 37], labels=['ì¶”ìœ„', 'ì ì •', 'ë”ìœ„'])
    
    # ê²°ì¸¡ì¹˜ ì œê±°
    data = data.dropna()
    
    print(f"ğŸ“Š ë¶„ì„ ë°ì´í„°: {len(data)}ì¼")
    print(f"ì˜¨ë„ êµ¬ê°„ë³„ ë¶„í¬:")
    print(data.ta_gubun.value_counts())
    
    # ì§‘ë‹¨ë³„ ê¸°ìˆ í†µê³„
    temp_stats = data.groupby('ta_gubun')['AMT'].agg(['count', 'mean', 'std'])
    print(f"\nğŸ’° ì˜¨ë„ë³„ í‰ê·  ë§¤ì¶œì•¡:")
    for idx, row in temp_stats.iterrows():
        print(f"{idx}: {row['mean']:,.0f}ì› (n={row['count']})")
    
    # ANOVA ì‹¤í–‰
    model = ols('AMT ~ C(ta_gubun)', data=data).fit()
    anova_result = anova_lm(model, type=2)
    
    print(f"\nğŸ“Š ANOVA ê²°ê³¼:")
    print(anova_result)
    
    # íš¨ê³¼í¬ê¸° ê³„ì‚°
    effect_sizes = calculate_effect_sizes(anova_result)
    
    print(f"\nğŸ¯ íš¨ê³¼í¬ê¸°:")
    print(f"Î·Â² = {effect_sizes['eta_squared']:.4f}")
    
    # ë¹„ì¦ˆë‹ˆìŠ¤ í•´ì„
    if effect_sizes['eta_squared'] >= 0.14:
        print("âœ… ì˜¨ë„ê°€ ë§¤ì¶œì— ë§¤ìš° í° ì˜í–¥ - ê³„ì ˆë³„ ë§ˆì¼€íŒ… ì „ëµ í•„ìˆ˜!")
    elif effect_sizes['eta_squared'] >= 0.06:
        print("âš ï¸ ì˜¨ë„ê°€ ë§¤ì¶œì— ì¤‘ê°„ ì •ë„ ì˜í–¥ - ì˜¨ë„ ëŒ€ì‘ ì „ëµ ê³ ë ¤")
    else:
        print("âŒ ì˜¨ë„ì˜ ë§¤ì¶œ ì˜í–¥ì€ ì œí•œì ")
        
    # ì‚¬í›„ê²€ì •
    tukey_result = pairwise_tukeyhsd(endog=data['AMT'], groups=data['ta_gubun'])
    print(f"\nğŸ“ˆ ì‚¬í›„ê²€ì • (Tukey HSD):")
    print(tukey_result)
    
    return data, anova_result, effect_sizes

# ì‹¤í–‰
temp_data, temp_anova, temp_effects = analyze_temperature_sales()
```

---

## ğŸ¥ ì´ì›ë¶„ì‚°ë¶„ì„ íš¨ê³¼í¬ê¸° (ë…ê³¼ ì²˜ì¹˜ë²• ì‚¬ë¡€)

### ğŸ“Š ë³µí•© íš¨ê³¼í¬ê¸° ë¶„ì„

```python
def analyze_poison_treatment():
    """ë…-ì²˜ì¹˜ë²• ì´ì›ë¶„ì‚°ë¶„ì„ íš¨ê³¼í¬ê¸° ë¶„ì„"""
    
    print("â˜ ï¸ ë… ì¢…ë¥˜ì™€ ì²˜ì¹˜ë²•ì˜ ë³µí•© íš¨ê³¼ ë¶„ì„")
    print("=" * 50)
    
    # ë°ì´í„° ë¡œë”©
    data = pd.read_csv('https://raw.githubusercontent.com/pykwon/python/refs/heads/master/testdata_utf8/poison_treat.csv', 
                      index_col=0)
    
    print(f"ğŸ“Š ë°ì´í„°: {len(data)}ê°œ ê´€ì¸¡ì¹˜")
    print(f"ë… ì¢…ë¥˜: {data.poison.unique()}")
    print(f"ì²˜ì¹˜ë²•: {data.treat.unique()}")
    
    # ì´ì›ë¶„ì‚°ë¶„ì„ ì‹¤í–‰
    model = ols('time ~ C(poison) * C(treat)', data=data).fit()
    anova_result = anova_lm(model, type=2)
    
    print(f"\nğŸ“Š ì´ì›ë¶„ì‚°ë¶„ì„ ê²°ê³¼:")
    print(anova_result)
    
    # ê° íš¨ê³¼ë³„ íš¨ê³¼í¬ê¸° ê³„ì‚°
    ss_poison = anova_result.iloc[0, 1]
    ss_treat = anova_result.iloc[1, 1] 
    ss_interaction = anova_result.iloc[2, 1]
    ss_error = anova_result.iloc[3, 1]
    ss_total = ss_poison + ss_treat + ss_interaction + ss_error
    
    effects = {
        'poison_eta2': ss_poison / ss_total,
        'treat_eta2': ss_treat / ss_total,
        'interaction_eta2': ss_interaction / ss_total
    }
    
    print(f"\nğŸ¯ íš¨ê³¼í¬ê¸° ë¶„ì„:")
    print(f"ë… ì¢…ë¥˜ Î·Â² = {effects['poison_eta2']:.4f} ({effects['poison_eta2']*100:.1f}% ì„¤ëª…)")
    print(f"ì²˜ì¹˜ë²• Î·Â² = {effects['treat_eta2']:.4f} ({effects['treat_eta2']*100:.1f}% ì„¤ëª…)")
    print(f"ìƒí˜¸ì‘ìš© Î·Â² = {effects['interaction_eta2']:.4f} ({effects['interaction_eta2']*100:.1f}% ì„¤ëª…)")
    
    # ì‹¤ë¬´ì  í•´ì„
    print(f"\nğŸ’¡ ì‹¤ë¬´ì  í•´ì„:")
    
    if effects['poison_eta2'] >= 0.14:
        print("âœ… ë… ì¢…ë¥˜ê°€ í¼ì§ ì‹œê°„ì— ë§¤ìš° í° ì˜í–¥")
    elif effects['poison_eta2'] >= 0.06:
        print("âš ï¸ ë… ì¢…ë¥˜ê°€ í¼ì§ ì‹œê°„ì— ì¤‘ê°„ ì˜í–¥")
        
    if effects['treat_eta2'] >= 0.14:
        print("âœ… ì²˜ì¹˜ë²•ì´ í¼ì§ ì‹œê°„ì— ë§¤ìš° í° ì˜í–¥")
    elif effects['treat_eta2'] >= 0.06:
        print("âš ï¸ ì²˜ì¹˜ë²•ì´ í¼ì§ ì‹œê°„ì— ì¤‘ê°„ ì˜í–¥")
        
    if effects['interaction_eta2'] >= 0.06:
        print("ğŸ”„ ìƒí˜¸ì‘ìš© íš¨ê³¼ ì¡´ì¬ - ë…ì— ë”°ë¼ ìµœì  ì²˜ì¹˜ë²•ì´ ë‹¤ë¦„")
    else:
        print("ğŸ¯ ìƒí˜¸ì‘ìš© íš¨ê³¼ ë¯¸ë¯¸ - ì¼ê´€ëœ ì²˜ì¹˜ë²• ì ìš© ê°€ëŠ¥")
    
    return data, anova_result, effects

# ì‹¤í–‰
poison_data, poison_anova, poison_effects = analyze_poison_treatment()
```

---

## ğŸ“Š íš¨ê³¼í¬ê¸° ì‹œê°í™”

### ğŸ¨ ì§ê´€ì ì¸ íš¨ê³¼í¬ê¸° ì´í•´

```python
def visualize_effect_sizes():
    """íš¨ê³¼í¬ê¸° ì‹œê°í™” í•¨ìˆ˜"""
    
    plt.figure(figsize=(15, 10))
    
    # 1. íš¨ê³¼í¬ê¸° ë§‰ëŒ€ê·¸ë˜í”„
    plt.subplot(2, 3, 1)
    effect_categories = ['ì‘ì€ íš¨ê³¼\n(Î·Â²=0.01)', 'ì¤‘ê°„ íš¨ê³¼\n(Î·Â²=0.06)', 'í° íš¨ê³¼\n(Î·Â²=0.14)']
    effect_values = [0.01, 0.06, 0.14]
    colors = ['lightblue', 'orange', 'red']
    
    bars = plt.bar(effect_categories, effect_values, color=colors, alpha=0.7)
    plt.title('Cohenì˜ íš¨ê³¼í¬ê¸° ê¸°ì¤€')
    plt.ylabel('Î·Â² ê°’')
    
    # ê°’ í‘œì‹œ
    for bar, val in zip(bars, effect_values):
        plt.text(bar.get_x() + bar.get_width()/2, bar.get_height() + 0.005,
                f'{val*100:.0f}%', ha='center', va='bottom')
    
    # 2. ì‹¤ì œ ì˜ˆì œ ë¹„êµ
    plt.subplot(2, 3, 2)
    examples = ['í¸ì˜ì \nê¸‰ì—¬', 'ì˜¨ë„-ë§¤ì¶œ', 'ë…-ì²˜ì¹˜ë²•']
    example_effects = [0.28, 0.45, 0.35]  # ê°€ìƒì˜ ê°’ë“¤
    
    plt.bar(examples, example_effects, color=['skyblue', 'lightgreen', 'salmon'], alpha=0.8)
    plt.title('ì‹¤ì œ ë¶„ì„ ì‚¬ë¡€ íš¨ê³¼í¬ê¸°')
    plt.ylabel('Î·Â² ê°’')
    plt.ylim(0, 0.5)
    
    # 3. ë¶„ì‚° ì„¤ëª… íŒŒì´ì°¨íŠ¸
    plt.subplot(2, 3, 3)
    eta_squared = 0.25  # ì˜ˆì‹œ
    explained = eta_squared * 100
    unexplained = (1 - eta_squared) * 100
    
    plt.pie([explained, unexplained], 
            labels=[f'ì„¤ëª…ëœ ë¶„ì‚°\n{explained:.1f}%', f'ì„¤ëª…ë˜ì§€ ì•Šì€ ë¶„ì‚°\n{unexplained:.1f}%'],
            colors=['lightcoral', 'lightgray'], autopct='%1.1f%%')
    plt.title('ë¶„ì‚° ë¶„í•´ (Î·Â²=0.25ì¸ ê²½ìš°)')
    
    # 4. p-value vs íš¨ê³¼í¬ê¸° ì‚°ì ë„
    plt.subplot(2, 3, 4)
    
    # ê°€ìƒì˜ ì—°êµ¬ ê²°ê³¼ë“¤
    p_values = [0.001, 0.01, 0.03, 0.001, 0.02, 0.04, 0.001, 0.005]
    effect_sizes = [0.02, 0.15, 0.08, 0.35, 0.12, 0.05, 0.01, 0.25]
    
    scatter = plt.scatter(p_values, effect_sizes, c=effect_sizes, 
                         cmap='viridis', s=100, alpha=0.7)
    plt.xlabel('p-value')
    plt.ylabel('Î·Â² (íš¨ê³¼í¬ê¸°)')
    plt.title('í†µê³„ì  ìœ ì˜ì„± vs íš¨ê³¼í¬ê¸°')
    
    # ê¸°ì¤€ì„  ì¶”ê°€
    plt.axhline(y=0.06, color='orange', linestyle='--', alpha=0.7, label='ì¤‘ê°„ íš¨ê³¼')
    plt.axhline(y=0.14, color='red', linestyle='--', alpha=0.7, label='í° íš¨ê³¼')
    plt.axvline(x=0.05, color='blue', linestyle='--', alpha=0.7, label='ìœ ì˜ìˆ˜ì¤€')
    plt.legend()
    
    # 5. í‘œë³¸ í¬ê¸°ì™€ ê²€ì •ë ¥
    plt.subplot(2, 3, 5)
    sample_sizes = np.arange(10, 101, 10)
    power_small = [0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55]  # ì‘ì€ íš¨ê³¼
    power_medium = [0.3, 0.5, 0.65, 0.75, 0.85, 0.9, 0.95, 0.97, 0.99, 0.99]  # ì¤‘ê°„ íš¨ê³¼
    
    plt.plot(sample_sizes, power_small, 'o-', label='ì‘ì€ íš¨ê³¼ (Î·Â²=0.01)', color='lightblue')
    plt.plot(sample_sizes, power_medium, 's-', label='ì¤‘ê°„ íš¨ê³¼ (Î·Â²=0.06)', color='orange')
    plt.xlabel('í‘œë³¸ í¬ê¸°')
    plt.ylabel('ê²€ì •ë ¥ (Power)')
    plt.title('í‘œë³¸ í¬ê¸°ë³„ ê²€ì •ë ¥')
    plt.axhline(y=0.8, color='red', linestyle='--', alpha=0.7, label='ê¶Œì¥ ê²€ì •ë ¥')
    plt.legend()
    plt.grid(True, alpha=0.3)
    
    # 6. ì‹¤ë¬´ì  ì˜ì‚¬ê²°ì • ê°€ì´ë“œ
    plt.subplot(2, 3, 6)
    decisions = ['ë¬´ì‹œ', 'ëª¨ë‹ˆí„°ë§', 'ê²€í†  í•„ìš”', 'ì¦‰ì‹œ ëŒ€ì‘']
    thresholds = [0.01, 0.06, 0.14, 0.25]
    colors_decision = ['gray', 'yellow', 'orange', 'red']
    
    bars = plt.bar(decisions, thresholds, color=colors_decision, alpha=0.7)
    plt.title('íš¨ê³¼í¬ê¸°ë³„ ì‹¤ë¬´ ëŒ€ì‘ ê°€ì´ë“œ')
    plt.ylabel('Î·Â² ì„ê³„ê°’')
    
    plt.tight_layout()
    plt.show()

# ì‹œê°í™” ì‹¤í–‰
visualize_effect_sizes()
```

---

## ğŸ’¼ ì‹¤ë¬´ ì˜ì‚¬ê²°ì • í”„ë ˆì„ì›Œí¬

### ğŸ¯ 4ë‹¨ê³„ í•´ì„ ì²´ê³„

#### ğŸ“Š 1ë‹¨ê³„: í†µê³„ì  ìœ ì˜ì„± í™•ì¸
```python
def statistical_significance_check(p_value, alpha=0.05):
    """í†µê³„ì  ìœ ì˜ì„± í™•ì¸"""
    
    if p_value < alpha:
        return "í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•¨", f"p = {p_value:.4f} < {alpha}"
    else:
        return "í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•˜ì§€ ì•ŠìŒ", f"p = {p_value:.4f} â‰¥ {alpha}"
```

#### ğŸ“ˆ 2ë‹¨ê³„: íš¨ê³¼í¬ê¸° í‰ê°€
```python
def practical_significance_check(eta_squared):
    """ì‹¤ë¬´ì  ì¤‘ìš”ì„± í‰ê°€"""
    
    if eta_squared >= 0.14:
        return "ë§¤ìš° ì¤‘ìš”", "ì¦‰ì‹œ í–‰ë™ í•„ìš”", "í° íš¨ê³¼"
    elif eta_squared >= 0.06:
        return "ì¤‘ìš”", "ì •ì±… ê²€í†  í•„ìš”", "ì¤‘ê°„ íš¨ê³¼"
    elif eta_squared >= 0.01:
        return "ì•½ê°„ ì¤‘ìš”", "ëª¨ë‹ˆí„°ë§ í•„ìš”", "ì‘ì€ íš¨ê³¼"
    else:
        return "ê±°ì˜ ë¬´ì˜ë¯¸", "ë¬´ì‹œ ê°€ëŠ¥", "ë¬´ì‹œí•  ìˆ˜ ìˆëŠ” íš¨ê³¼"
```

#### ğŸ’° 3ë‹¨ê³„: ë¹„ìš©-í¸ìµ ë¶„ì„
```python
def cost_benefit_analysis(effect_size, implementation_cost, expected_benefit):
    """ë¹„ìš©-í¸ìµ ê´€ì ì—ì„œ ì˜ì‚¬ê²°ì •"""
    
    # ROI ê³„ì‚° (ë§¤ìš° ê°„ë‹¨í•œ ì˜ˆì‹œ)
    adjusted_benefit = expected_benefit * effect_size
    roi = (adjusted_benefit - implementation_cost) / implementation_cost * 100
    
    if roi > 50:
        return "ê°•ë ¥ ì¶”ì²œ", f"ROI: {roi:.1f}%"
    elif roi > 20:
        return "ì¶”ì²œ", f"ROI: {roi:.1f}%"
    elif roi > 0:
        return "ì‹ ì¤‘í•œ ê²€í† ", f"ROI: {roi:.1f}%"
    else:
        return "ë¹„ì¶”ì²œ", f"ROI: {roi:.1f}%"
```

#### ğŸ¯ 4ë‹¨ê³„: ì¢…í•© ì˜ì‚¬ê²°ì •
```python
def comprehensive_decision(p_value, eta_squared, business_context):
    """ì¢…í•©ì  ì˜ì‚¬ê²°ì • í”„ë ˆì„ì›Œí¬"""
    
    # 1ë‹¨ê³„: í†µê³„ì  ìœ ì˜ì„±
    stat_sig, stat_msg = statistical_significance_check(p_value)
    
    # 2ë‹¨ê³„: ì‹¤ë¬´ì  ì¤‘ìš”ì„±  
    prac_importance, action_needed, effect_level = practical_significance_check(eta_squared)
    
    # ì¢…í•© íŒë‹¨
    if p_value < 0.05 and eta_squared >= 0.06:
        decision = "âœ… ì‹¤í–‰ ì¶”ì²œ"
        reason = "í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•˜ê³  ì‹¤ë¬´ì ìœ¼ë¡œë„ ì˜ë¯¸ìˆìŒ"
    elif p_value < 0.05 and eta_squared < 0.06:
        decision = "âš ï¸ ì‹ ì¤‘í•œ ê²€í† "
        reason = "í†µê³„ì ìœ¼ë¡œëŠ” ìœ ì˜í•˜ë‚˜ íš¨ê³¼í¬ê¸°ê°€ ì‘ìŒ"
    elif p_value >= 0.05 and eta_squared >= 0.06:
        decision = "ğŸ¤” ì¶”ê°€ ë°ì´í„° ìˆ˜ì§‘"
        reason = "íš¨ê³¼í¬ê¸°ëŠ” í¬ë‚˜ í†µê³„ì  ìœ ì˜ì„± ë¶€ì¡±"
    else:
        decision = "âŒ ì‹¤í–‰ ë¶ˆí•„ìš”"
        reason = "í†µê³„ì ìœ¼ë¡œ ìœ ì˜í•˜ì§€ ì•Šê³  íš¨ê³¼í¬ê¸°ë„ ì‘ìŒ"
    
    return {
        'decision': decision,
        'reason': reason,
        'statistical_significance': stat_msg,
        'effect_level': effect_level,
        'practical_importance': prac_importance,
        'recommended_action': action_needed
    }

# ì‚¬ìš© ì˜ˆì‹œ
example_decision = comprehensive_decision(p_value=0.02, eta_squared=0.08, 
                                        business_context="ë§¤ì¶œ ì¦ëŒ€ ì „ëµ")
print("ğŸ¯ ì¢…í•© ì˜ì‚¬ê²°ì • ê²°ê³¼:")
for key, value in example_decision.items():
    print(f"{key}: {value}")
```

---

## ğŸ“‹ ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ANOVA ë¶„ì„ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ğŸ“Š ë¶„ì„ ì „ ë‹¨ê³„
- [ ] **í‘œë³¸ í¬ê¸° ì¶©ë¶„í•œê°€?** (ê° ì§‘ë‹¨ ìµœì†Œ 15ê°œ)
- [ ] **ê°€ì • ê²€í†  ì™„ë£Œ?** (ì •ê·œì„±, ë“±ë¶„ì‚°ì„±, ë…ë¦½ì„±)
- [ ] **ê²°ì¸¡ì¹˜ ì²˜ë¦¬ ì™„ë£Œ?** (ì œê±° vs ëŒ€ì²´)
- [ ] **ì´ìƒì¹˜ í™•ì¸?** (ë°•ìŠ¤í”Œë¡¯, Z-score)

#### ğŸ“ˆ ë¶„ì„ ë‹¨ê³„
- [ ] **ANOVA ì‹¤í–‰** (ì¼ì›/ì´ì›)
- [ ] **p-value í•´ì„** (< 0.05)
- [ ] **íš¨ê³¼í¬ê¸° ê³„ì‚°** (Î·Â², Ï‰Â²)
- [ ] **ì‚¬í›„ê²€ì •** (ìœ ì˜í•œ ê²½ìš°)

#### ğŸ’¼ í•´ì„ ë° ë³´ê³  ë‹¨ê³„
- [ ] **í†µê³„ì  ìœ ì˜ì„± í™•ì¸**
- [ ] **íš¨ê³¼í¬ê¸° í•´ì„** (Cohen ê¸°ì¤€)
- [ ] **ì‹¤ë¬´ì  ì¤‘ìš”ì„± í‰ê°€**
- [ ] **ë¹„ì¦ˆë‹ˆìŠ¤ ë§¥ë½ ê³ ë ¤**
- [ ] **í•œê³„ì  ë° ì£¼ì˜ì‚¬í•­ ëª…ì‹œ**

### ğŸš¨ ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ë“¤

#### âŒ **í”¼í•´ì•¼ í•  ê²ƒë“¤**
1. **p-valueë§Œ ë³´ê³  íŒë‹¨**: "p=0.03ì´ë‹ˆê¹Œ ì¤‘ìš”í•˜ë‹¤!"
2. **íš¨ê³¼í¬ê¸° ë¬´ì‹œ**: "ìœ ì˜í•˜ë‹ˆê¹Œ ì‹¤í–‰í•˜ì!"
3. **í‘œë³¸ í¬ê¸° ë¬´ì‹œ**: "n=5ì¸ë° ìœ ì˜í•˜ë„¤?"
4. **ë§¥ë½ ê³ ë ¤ ì•ˆí•¨**: "í†µê³„ ê²°ê³¼ê°€ ì „ë¶€ë‹¤!"

#### âœ… **í•´ì•¼ í•  ê²ƒë“¤**
1. **p-value + íš¨ê³¼í¬ê¸° í•¨ê»˜ ë³´ê¸°**
2. **ë¹„ì¦ˆë‹ˆìŠ¤ ë§¥ë½ì—ì„œ í•´ì„**
3. **ë¹„ìš©-í¸ìµ ê³ ë ¤**
4. **ì¶”ê°€ ì—°êµ¬ í•„ìš”ì„± ê²€í† **

---

## ğŸ“ ì‹¤ë¬´ ì‚¬ë¡€ ì¢…í•©

### ğŸª í¸ì˜ì  ê¸‰ì—¬ ì‚¬ë¡€ ìµœì¢… ê²°ë¡ 

```python
# ê°€ìƒì˜ ìµœì¢… ë¶„ì„ ê²°ê³¼
print("ğŸª GSí¸ì˜ì  ì•Œë°” ê¸‰ì—¬ ë¶„ì„ ìµœì¢… ê²°ë¡ ")
print("=" * 50)
print("ğŸ“Š í†µê³„ ê²°ê³¼:")
print("   â€¢ F-statistic: 3.711, p-value: 0.044")
print("   â€¢ Î·Â²: 0.281 (28.1% ë¶„ì‚° ì„¤ëª…)")
print("   â€¢ íš¨ê³¼í¬ê¸°: í° íš¨ê³¼")
print("\nğŸ’¼ ì‹¤ë¬´ì  í•´ì„:")
print("   â€¢ ì§€ì—­ë³„ ê¸‰ì—¬ ì°¨ì´ í™•ì‹¤íˆ ì¡´ì¬")
print("   â€¢ ì§€ì—­ 1 > ì§€ì—­ 3 > ì§€ì—­ 2 ìˆœ")
print("   â€¢ ìµœëŒ€ 60ë§Œì› ì°¨ì´ ë°œìƒ")
print("\nğŸ¯ ê¶Œê³ ì‚¬í•­:")
print("   âœ… ì§€ì—­ë³„ ê¸‰ì—¬ ì²´ê³„ ì¬ê²€í†  í•„ìš”")
print("   âœ… ì§€ì—­ 2 ê¸‰ì—¬ ìˆ˜ì¤€ ê°œì„  ê²€í† ")
print("   âœ… ìƒí™œë¹„ ì§€ìˆ˜ ë°˜ì˜ ê¸‰ì—¬ ì •ì±… ìˆ˜ë¦½")
```

### ğŸŒ¡ï¸ ì˜¨ë„-ë§¤ì¶œ ì‚¬ë¡€ ìµœì¢… ê²°ë¡ 

```python
print("\nğŸŒ¡ï¸ ì˜¨ë„ë³„ ìŒì‹ì  ë§¤ì¶œ ë¶„ì„ ìµœì¢… ê²°ë¡ ")
print("=" * 50)
print("ğŸ“Š í†µê³„ ê²°ê³¼:")
print("   â€¢ F-statistic: 99.19, p-value: 2.36e-34")
print("   â€¢ Î·Â²: 0.379 (37.9% ë¶„ì‚° ì„¤ëª…)")
print("   â€¢ íš¨ê³¼í¬ê¸°: ë§¤ìš° í° íš¨ê³¼")
print("\nğŸ’¼ ì‹¤ë¬´ì  í•´ì„:")
print("   â€¢ ì˜¨ë„ê°€ ë§¤ì¶œì— ë§¤ìš° ê°•í•œ ì˜í–¥")
print("   â€¢ ë”ìœ„ > ì ì • > ì¶”ìœ„ ìˆœ ë§¤ì¶œ")
print("   â€¢ ìµœëŒ€ 47ë§Œì› ë§¤ì¶œ ì°¨ì´")
print("\nğŸ¯ ê¶Œê³ ì‚¬í•­:")
print("   âœ… ê³„ì ˆë³„ ì°¨ë³„í™” ë©”ë‰´ ì „ëµ")
print("   âœ… ì—¬ë¦„ì²  ë§ˆì¼€íŒ… ì§‘ì¤‘ íˆ¬ì")
print("   âœ… ê²¨ìš¸ì²  í”„ë¡œëª¨ì…˜ ê°•í™”")
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ğŸ“ˆ ê³ ê¸‰ ë¶„ì„ ê¸°ë²•

1. **ë©”íƒ€ë¶„ì„**: ì—¬ëŸ¬ ì—°êµ¬ì˜ íš¨ê³¼í¬ê¸° í†µí•©
2. **ë² ì´ì§€ì•ˆ ANOVA**: ì‚¬ì „ ì •ë³´ í™œìš©
3. **ê¸°ê³„í•™ìŠµê³¼ ê²°í•©**: ì˜ˆì¸¡ ëª¨ë¸ë§
4. **ì‹¤ì‹œê°„ A/B í…ŒìŠ¤íŠ¸**: ë™ì  íš¨ê³¼í¬ê¸° ëª¨ë‹ˆí„°ë§

### ğŸ’¡ ì‹¤ë¬´ ë°œì „ ë°©í–¥

- **ìë™í™” ëŒ€ì‹œë³´ë“œ**: íš¨ê³¼í¬ê¸° ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ì˜ì‚¬ê²°ì • ì‹œìŠ¤í…œ**: ê·œì¹™ ê¸°ë°˜ ìë™ íŒë‹¨
- **ROI ê³„ì‚°ê¸°**: í†µê³„ì  ê²°ê³¼ì˜ ì¬ì •ì  ê°€ì¹˜ ì‚°ì •

---

## ğŸ¯ í•µì‹¬ ìš”ì•½

> **"í†µê³„ì  ìœ ì˜ì„±ì€ ì‹œì‘ì¼ ë¿, íš¨ê³¼í¬ê¸°ê°€ ì§„ì§œ ë‹µì„ ì•Œë ¤ì¤€ë‹¤"**

### ğŸ“Š í™©ê¸ˆ ê³µì‹

```
ì‹¤ë¬´ì  ê°€ì¹˜ = í†µê³„ì  ìœ ì˜ì„± Ã— íš¨ê³¼í¬ê¸° Ã— ë¹„ì¦ˆë‹ˆìŠ¤ ë§¥ë½
```

### ğŸ“ ê¸°ì–µí•  3ê°€ì§€

1. **p < 0.05**ëŠ” ì‹œì‘ì , **Î·Â² â‰¥ 0.06**ì´ ì‹¤í–‰ì 
2. **íš¨ê³¼í¬ê¸°ê°€ ì‘ì•„ë„ í° í‘œë³¸ì—ì„œëŠ” ìœ ì˜**í•  ìˆ˜ ìˆìŒ
3. **ë¹„ì¦ˆë‹ˆìŠ¤ ë§¥ë½**ì´ ìµœì¢… ì˜ì‚¬ê²°ì •ì„ ì¢Œìš°í•¨

### ğŸ’« ì‹¤ë¬´ìë¥¼ ìœ„í•œ ë§ˆì§€ë§‰ ì¡°ì–¸

- ğŸ“Š **í•­ìƒ íš¨ê³¼í¬ê¸°ë¥¼ í•¨ê»˜ ë³´ê³ í•˜ì„¸ìš”**
- ğŸ¯ **Cohenì˜ ê¸°ì¤€ì€ ì°¸ê³ ì¼ ë¿, ì—…ê³„ íŠ¹ì„±ì„ ê³ ë ¤í•˜ì„¸ìš”**
- ğŸ’¼ **í†µê³„ ê²°ê³¼ë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì–¸ì–´ë¡œ ë²ˆì—­í•˜ì„¸ìš”**
- ğŸš€ **ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ê³¼ ì—…ë°ì´íŠ¸ë¥¼ ìŠì§€ ë§ˆì„¸ìš”**

---

**ì´ì œ ANOVA ì‹œë¦¬ì¦ˆ 22.07ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ê¸°ì´ˆë¶€í„° ì‹¤ë¬´ í™œìš©ê¹Œì§€ ëª¨ë“  ê³¼ì •ì„ ë§ˆìŠ¤í„°í•˜ì…¨ìŠµë‹ˆë‹¤!** ğŸ‰