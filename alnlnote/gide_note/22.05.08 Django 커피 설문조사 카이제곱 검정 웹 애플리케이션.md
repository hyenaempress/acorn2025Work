# Django ì»¤í”¼ ì„¤ë¬¸ì¡°ì‚¬ ì¹´ì´ì œê³± ê²€ì • ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” Django í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ë³„ì— ë”°ë¥¸ ì»¤í”¼ ë¸Œëœë“œ ì„ í˜¸ë„ ì°¨ì´ë¥¼ ì¹´ì´ì œê³± ê²€ì •ìœ¼ë¡œ ë¶„ì„í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥
- ì»¤í”¼ ë¸Œëœë“œ ì„ í˜¸ë„ ì„¤ë¬¸ì¡°ì‚¬ ì…ë ¥
- ì„¤ë¬¸ ê²°ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
- ì„±ë³„ê³¼ ì»¤í”¼ë¸Œëœë“œë³„ êµì°¨ë¶„í• í‘œ ìƒì„±
- ì¹´ì´ì œê³± ë…ë¦½ì„± ê²€ì • ìˆ˜í–‰
- ê²€ì • ê²°ê³¼ ì›¹ ì¶œë ¥
- ì»¤í”¼ë¸Œëœë“œë³„ ì„ í˜¸ë„ ì°¨íŠ¸ ìƒì„±

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### MariaDB ì„¤ì •
```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE coffeedb;
USE coffeedb;

-- í…Œì´ë¸” ìƒì„±
CREATE TABLE survey(
    rnum INT PRIMARY KEY AUTO_INCREMENT, 
    gender VARCHAR(4),
    age INT(3),
    co_survey VARCHAR(10)
);

-- ìƒ˜í”Œ ë°ì´í„° ì…ë ¥ ì˜ˆì‹œ
INSERT INTO survey (gender, age, co_survey) VALUES ('ë‚¨', 10, 'íƒì•¤íƒìŠ¤');
INSERT INTO survey (gender, age, co_survey) VALUES ('ì—¬', 10, 'ìŠ¤íƒ€ë²…ìŠ¤');
```

### í…Œì´ë¸” êµ¬ì¡°
| ì»¬ëŸ¼ëª… | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| rnum | INT | ê¸°ë³¸í‚¤ (ìë™ì¦ê°€) |
| gender | VARCHAR(4) | ì„±ë³„ (ë‚¨/ì—¬) |
| age | INT(3) | ë‚˜ì´ëŒ€ |
| co_survey | VARCHAR(10) | ì„ í˜¸ ì»¤í”¼ë¸Œëœë“œ |

---

## ğŸ—ï¸ Django í”„ë¡œì íŠ¸ êµ¬ì¡°

### í”„ë¡œì íŠ¸ ìƒì„±
```bash
# í”„ë¡œì íŠ¸ í´ë” ìƒì„±
mkdir django4_coffee
cd django4_coffee

# Django í”„ë¡œì íŠ¸ ìƒì„±
django-admin startproject mainapp .

# ì•± ìƒì„±
python manage.py startapp myapp
```

### í´ë” êµ¬ì¡°
```
django4_coffee/
â”œâ”€â”€ mainapp/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ views.py
â”œâ”€â”€ myapp/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ views.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ index.html
â”‚       â””â”€â”€ coffee/
â”‚           â”œâ”€â”€ survey_form.html
â”‚           â””â”€â”€ survey_result.html
â””â”€â”€ manage.py
```

---

## ğŸ“Š ëª¨ë¸ ì •ì˜

### models.py
```python
from django.db import models

class Survey(models.Model):
    rnum = models.AutoField(primary_key=True)
    gender = models.CharField(max_length=4, blank=True, null=True)
    age = models.IntegerField(blank=True, null=True)
    co_survey = models.CharField(max_length=10, blank=True, null=True)

    class Meta:
        managed = False  # í…Œì´ë¸” ìƒì„± ì•ˆí•¨ (ê¸°ì¡´ DB ì‚¬ìš©)
        db_table = 'survey'
```

---

## ğŸ”— URL ì„¤ì •

### mainapp/urls.py
```python
from django.contrib import admin
from django.urls import path, include
from mainapp import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.surveyMain),
    path('coffee/', include('myapp.urls')),
]
```

### myapp/urls.py
```python
from django.urls import path
from . import views

urlpatterns = [
    path('survey', views.survey_form, name='survey_form'),
    path('surveyshow', views.survey_result, name='survey_result'),
    path('surveyprocess', views.survey_process, name='survey_process'),
]
```

---

## ğŸ¨ ë·° í•¨ìˆ˜

### views.py
```python
from django.shortcuts import render, redirect
from django.http import HttpResponse
from django.db.models import Count
from .models import Survey
import scipy.stats as stats
import matplotlib
matplotlib.use('Agg')
import matplotlib.pyplot as plt
plt.rc('font', family='Malgun Gothic')

def survey_main(request):
    """ë©”ì¸ í˜ì´ì§€"""
    return render(request, 'index.html')

def survey_form(request):
    """ì„¤ë¬¸ ì…ë ¥ í¼ í˜ì´ì§€"""
    return render(request, 'coffee/survey_form.html')

def survey_result(request):
    """ì„¤ë¬¸ ê²°ê³¼ ë° ì¹´ì´ì œê³± ê²€ì • ê²°ê³¼ ì¶œë ¥"""
    surveys = Survey.objects.all()
    
    # ì„±ë³„Ã—ë¸Œëœë“œ êµì°¨í‘œë¥¼ ìœ„í•´ ì§‘ê³„
    agg = (
        Survey.objects
        .values('gender', 'co_survey')
        .annotate(cnt=Count('rnum'))
    )
    
    # ì„±ë³„/ë¸Œëœë“œ ì¶• ë§Œë“¤ê¸°
    genders = sorted({row['gender'] for row in agg})
    brands = sorted({row['co_survey'] for row in agg})
    
    result_text = "ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤."
    chi2 = None
    dof = None
    decision = None
    
    if len(genders) >= 2 and len(brands) >= 2:
        # ê´€ì¸¡ë„ìˆ˜ í–‰ë ¬ ìƒì„±
        idx_g = {g:i for i,g in enumerate(genders)}
        idx_b = {b:j for j,b in enumerate(brands)}
        r, c = len(genders), len(brands)
        obs = [[0 for _ in range(c)] for __ in range(r)]
        
        for row in agg:
            i = idx_g[row['gender']]
            j = idx_b[row['co_survey']]
            obs[i][j] = row['cnt']
        
        # ê¸°ëŒ€ë„ìˆ˜ ê³„ì‚°
        row_sum = [sum(obs[i]) for i in range(r)]
        col_sum = [sum(obs[i][j] for i in range(r)) for j in range(c)]
        total = sum(row_sum)
        
        expected = [[(row_sum[i] * col_sum[j]) / total for j in range(c)] for i in range(r)]
        
        # ì¹´ì´ì œê³± í†µê³„ëŸ‰ ê³„ì‚°
        chi2_val = 0.0
        for i in range(r):
            for j in range(c):
                e = expected[i][j]
                o = obs[i][j]
                if e > 0:
                    chi2_val += (o - e) ** 2 / e
        
        chi2 = round(chi2_val, 4)
        dof = (r - 1) * (c - 1)
        
        # ìœ ì˜ìˆ˜ì¤€ 0.05 ì„ê³„ê°’ í…Œì´ë¸”
        critical_005 = {
            1: 3.8415, 2: 5.9915, 3: 7.8147, 4: 9.4877, 5: 11.0705,
            6: 12.5916, 7: 14.0671, 8: 15.5073, 9: 16.9190, 10: 18.3070,
        }
        crit = critical_005.get(dof, None)
        
        if crit is None:
            decision = f"ììœ ë„ {dof}ì— ëŒ€í•œ 0.05 ì„ê³„ê°’ì´ í‘œì— ì—†ìŠµë‹ˆë‹¤. (Ï‡Â²={chi2})"
        else:
            if chi2 > crit:
                decision = f"Ï‡Â²={chi2} > ì„ê³„ê°’ {crit:.4f} â†’ ê·€ë¬´ê°€ì„¤ ê¸°ê°: ì„±ë³„ì— ë”°ë¥¸ ì„ í˜¸ ë¸Œëœë“œì— **ì°¨ì´ê°€ ìˆìŒ**"
            else:
                decision = f"Ï‡Â²={chi2} â‰¤ ì„ê³„ê°’ {crit:.4f} â†’ ê·€ë¬´ê°€ì„¤ ì±„íƒ: ì„±ë³„ì— ë”°ë¥¸ ì„ í˜¸ ë¸Œëœë“œ **ì°¨ì´ê°€ ì—†ìŒ**"
        
        # êµì°¨ë¶„í• í‘œ êµ¬ì„±
        crosstab = {
            'headers': ['ì„±ë³„ \\ ë¸Œëœë“œ'] + brands,
            'rows': [
                [g] + [obs[idx_g[g]][idx_b[b]] for b in brands]
                for g in genders
            ],
            'row_totals': row_sum,
            'col_totals': col_sum,
            'total': total,
        }
        
        return render(request, 'coffee/survey_result.html', {
            'surveys': surveys,
            'decision': decision,
            'chi2': chi2,
            'dof': dof,
            'alpha': 0.05,
            'crosstab': crosstab,
        })
    
    # ë°ì´í„° ë¶€ì¡± ì‹œ ê¸°ë³¸ ì¶œë ¥
    return render(request, 'coffee/survey_result.html', {
        'surveys': surveys,
        'decision': result_text,
        'chi2': chi2,
        'dof': dof,
        'alpha': 0.05,
        'crosstab': None,
    })

def survey_process(request):
    """ì„¤ë¬¸ ë°ì´í„° ì²˜ë¦¬ ë° ì €ì¥"""
    if request.method != 'POST':
        return render(request, 'coffee/survey_form.html')
    
    gender = request.POST.get('gender')
    age = request.POST.get('age')
    co_survey = request.POST.get('co_survey')
    
    Survey.objects.create(
        gender=gender,
        age=int(age) if age else None,
        co_survey=co_survey,
    )
    return redirect('survey_result')
```

---

## ğŸ¨ í…œí”Œë¦¿

### templates/index.html
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì»¤í”¼ ì„ í˜¸ë„ ì¡°ì‚¬</title>
</head>
<body>
    <h2>ì»¤í”¼ë¥¼ ì‚¬ë‘í•˜ë¼</h2>
    
    <nav>
        <a href="{% url 'survey_form' %}">[ì»¤í”¼ ë¸Œëœë“œ ì„ í˜¸ ì¡°ì‚¬]</a>
        <a href="{% url 'survey_result' %}">[ì„ í˜¸ë„ ë¶„ì„ ê²°ê³¼]</a>
    </nav>
    
    <h1>Hello World</h1>
</body>
</html>
```

### templates/coffee/survey_form.html
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coffee Survey</title>
</head>
<body>
    <h3>* ì»¤í”¼ ì „ë¬¸ì ì— ëŒ€í•œ ì†Œë¹„ì ì¸ì‹ ì¡°ì‚¬ *</h3>
    
    <form action="{% url 'survey_process' %}" method="post">
        {% csrf_token %}
        
        <table>
            <tr>
                <td>ê·€í•˜ì˜ ì„±ë³„ì€?</td>
                <td>
                    <label for="genM">ë‚¨</label>
                    <input type="radio" id="genM" name="gender" value="ë‚¨" checked>&nbsp;&nbsp;
                    <label for="genF">ì—¬</label>
                    <input type="radio" id="genF" name="gender" value="ì—¬">
                </td>
            </tr>
            <tr>
                <td>ê·€í•˜ì˜ ë‚˜ì´ëŠ”?</td>
                <td>
                    <label for="age10">10ëŒ€</label>
                    <input type="radio" id="age10" name="age" value="10" checked>&nbsp;&nbsp;
                    <label for="age20">20ëŒ€</label>
                    <input type="radio" id="age20" name="age" value="20">&nbsp;&nbsp;
                    <label for="age30">30ëŒ€</label>
                    <input type="radio" id="age30" name="age" value="30">&nbsp;&nbsp;
                    <label for="age40">40ëŒ€</label>
                    <input type="radio" id="age40" name="age" value="40">&nbsp;&nbsp;
                    <label for="age50">50ëŒ€ ì´ìƒ</label>
                    <input type="radio" id="age50" name="age" value="50">
                </td>
            </tr>
            <tr>
                <td>ì„ í˜¸í•˜ëŠ” ì»¤í”¼ ì „ë¬¸ì ì€?</td>
                <td>
                    <label for="starbucks">ìŠ¤íƒ€ë²…ìŠ¤</label>
                    <input type="radio" id="starbucks" name="co_survey" value="ìŠ¤íƒ€ë²…ìŠ¤" checked>&nbsp;&nbsp;
                    <label for="coffeebean">ì»¤í”¼ë¹ˆ</label>
                    <input type="radio" id="coffeebean" name="co_survey" value="ì»¤í”¼ë¹ˆ">&nbsp;&nbsp;
                    <label for="ediya">ì´ë””ì•¼</label>
                    <input type="radio" id="ediya" name="co_survey" value="ì´ë””ì•¼">&nbsp;&nbsp;
                    <label for="tomntoms">íƒì•¤íƒìŠ¤</label>
                    <input type="radio" id="tomntoms" name="co_survey" value="íƒì•¤íƒìŠ¤">
                </td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <br>
                    <input type="submit" value="ì„¤ë¬¸ ì™„ë£Œ">
                    <input type="reset" value="ì´ˆê¸°í™”">
                </td>
            </tr>
        </table>
    </form>
</body>
</html>
```

### templates/coffee/survey_result.html
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¤ë¬¸ ê²°ê³¼</title>
    <style>
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f2f2f2; }
        .result-section { margin: 30px 0; padding: 20px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h2>ì»¤í”¼ ë¸Œëœë“œ ì„ í˜¸ë„ ë¶„ì„ ê²°ê³¼</h2>
    
    <!-- ì¹´ì´ì œê³± ê²€ì • ê²°ê³¼ -->
    <div class="result-section">
        <h3>ğŸ§® ì¹´ì´ì œê³± ë…ë¦½ì„± ê²€ì • ê²°ê³¼</h3>
        
        {% if decision %}
            <h4>ê²€ì • ê²°ë¡ </h4>
            <p><strong>{{ decision }}</strong></p>
            
            {% if chi2 %}
                <p><strong>ì¹´ì´ì œê³± í†µê³„ëŸ‰:</strong> {{ chi2 }}</p>
                <p><strong>ììœ ë„:</strong> {{ dof }}</p>
                <p><strong>ìœ ì˜ìˆ˜ì¤€:</strong> {{ alpha }}</p>
            {% endif %}
        {% endif %}
    </div>
    
    <!-- êµì°¨ë¶„í• í‘œ -->
    {% if crosstab %}
    <div class="result-section">
        <h3>ğŸ“Š ì„±ë³„-ì»¤í”¼ë¸Œëœë“œ êµì°¨ë¶„í• í‘œ</h3>
        
        <table>
            <thead>
                <tr>
                    {% for header in crosstab.headers %}
                        <th>{{ header }}</th>
                    {% endfor %}
                    <th>í–‰ í•©ê³„</th>
                </tr>
            </thead>
            <tbody>
                {% for row in crosstab.rows %}
                    <tr>
                        {% for cell in row %}
                            <td>{{ cell }}</td>
                        {% endfor %}
                        <td><strong>{{ crosstab.row_totals|slice:forloop.counter0 }}</strong></td>
                    </tr>
                {% endfor %}
                <tr>
                    <th>ì—´ í•©ê³„</th>
                    {% for col_total in crosstab.col_totals %}
                        <td><strong>{{ col_total }}</strong></td>
                    {% endfor %}
                    <td><strong>{{ crosstab.total }}</strong></td>
                </tr>
            </tbody>
        </table>
    </div>
    {% endif %}
    
    <!-- ì „ì²´ ì„¤ë¬¸ ë°ì´í„° -->
    <div class="result-section">
        <h3>ğŸ“‹ ì „ì²´ ì„¤ë¬¸ ë°ì´í„°</h3>
        
        <table>
            <thead>
                <tr>
                    <th>ë²ˆí˜¸</th>
                    <th>ì„±ë³„</th>
                    <th>ë‚˜ì´ëŒ€</th>
                    <th>ì„ í˜¸ ë¸Œëœë“œ</th>
                </tr>
            </thead>
            <tbody>
                {% for survey in surveys %}
                <tr>
                    <td>{{ survey.rnum }}</td>
                    <td>{{ survey.gender }}</td>
                    <td>{{ survey.age }}ëŒ€</td>
                    <td>{{ survey.co_survey }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div style="text-align: center; margin: 30px;">
        <a href="{% url 'survey_form' %}">[ë‹¤ì‹œ ì„¤ë¬¸í•˜ê¸°]</a> |
        <a href="/">[ë©”ì¸ìœ¼ë¡œ]</a>
    </div>
</body>
</html>
```

---

## âš™ï¸ settings.py ì„¤ì •

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'coffeedb',
        'USER': 'root',
        'PASSWORD': 'your_password',
        'HOST': 'localhost',
        'PORT': '3306',
    }
}

# ì•± ë“±ë¡
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'myapp',
]

# í•œêµ­ì–´ ì„¤ì •
LANGUAGE_CODE = 'ko-kr'
TIME_ZONE = 'Asia/Seoul'
```

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. í”„ë¡œì íŠ¸ ì‹¤í–‰
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ (ì„ íƒì‚¬í•­)
python manage.py makemigrations
python manage.py migrate

# ì„œë²„ ì‹¤í–‰
python manage.py runserver
```

### 2. ì ‘ì† URL
- **ë©”ì¸ í˜ì´ì§€**: `http://127.0.0.1:8000/`
- **ì„¤ë¬¸ ì…ë ¥**: `http://127.0.0.1:8000/coffee/survey`
- **ê²°ê³¼ í™•ì¸**: `http://127.0.0.1:8000/coffee/surveyshow`

---

## ğŸ“Š ì¹´ì´ì œê³± ê²€ì • ì´ë¡ 

### ê°€ì„¤ ì„¤ì •
- **ê·€ë¬´ê°€ì„¤ (Hâ‚€)**: ì„±ë³„ê³¼ ì»¤í”¼ ë¸Œëœë“œ ì„ í˜¸ë„ëŠ” ì„œë¡œ ë…ë¦½ì´ë‹¤ (ê´€ë ¨ì´ ì—†ë‹¤)
- **ëŒ€ë¦½ê°€ì„¤ (Hâ‚)**: ì„±ë³„ê³¼ ì»¤í”¼ ë¸Œëœë“œ ì„ í˜¸ë„ëŠ” ì„œë¡œ ë…ë¦½ì´ ì•„ë‹ˆë‹¤ (ê´€ë ¨ì´ ìˆë‹¤)

### ê²€ì • í†µê³„ëŸ‰
```
Ï‡Â² = Î£[(ê´€ì¸¡ë„ìˆ˜ - ê¸°ëŒ€ë„ìˆ˜)Â² / ê¸°ëŒ€ë„ìˆ˜]
```

### ììœ ë„
```
df = (í–‰ì˜ ê°œìˆ˜ - 1) Ã— (ì—´ì˜ ê°œìˆ˜ - 1)
```

### íŒì • ê¸°ì¤€
- **Î± = 0.05** (ìœ ì˜ìˆ˜ì¤€ 5%)
- **Ï‡Â² > ì„ê³„ê°’**: ê·€ë¬´ê°€ì„¤ ê¸°ê° â†’ ê´€ë ¨ì„± ìˆìŒ
- **Ï‡Â² â‰¤ ì„ê³„ê°’**: ê·€ë¬´ê°€ì„¤ ì±„íƒ â†’ ê´€ë ¨ì„± ì—†ìŒ

---

## ğŸ”§ ì¶”ê°€ ê°œì„ ì‚¬í•­

### 1. ì°¨íŠ¸ ìƒì„± ê¸°ëŠ¥
```python
def create_chart(request):
    """ì»¤í”¼ë¸Œëœë“œë³„ ì„ í˜¸ë„ ì„¸ë¡œë§‰ëŒ€ ì°¨íŠ¸ ìƒì„±"""
    import matplotlib.pyplot as plt
    import os
    from django.conf import settings
    
    # ë¸Œëœë“œë³„ ì§‘ê³„
    brand_counts = Survey.objects.values('co_survey').annotate(count=Count('rnum'))
    
    brands = [item['co_survey'] for item in brand_counts]
    counts = [item['count'] for item in brand_counts]
    
    # ì°¨íŠ¸ ìƒì„±
    plt.figure(figsize=(10, 6))
    plt.bar(brands, counts, color=['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4'])
    plt.title('ì»¤í”¼ ë¸Œëœë“œë³„ ì„ í˜¸ë„')
    plt.xlabel('ì»¤í”¼ ë¸Œëœë“œ')
    plt.ylabel('ì„ í˜¸ ì¸ì›ìˆ˜')
    plt.xticks(rotation=45)
    
    # ì´ë¯¸ì§€ ì €ì¥
    chart_path = os.path.join(settings.STATIC_ROOT, 'chart.png')
    plt.savefig(chart_path, bbox_inches='tight')
    plt.close()
    
    return chart_path
```

### 2. ë°ì´í„° ê²€ì¦
```python
def validate_survey_data(gender, age, co_survey):
    """ì„¤ë¬¸ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬"""
    errors = []
    
    if not gender or gender not in ['ë‚¨', 'ì—¬']:
        errors.append('ì˜¬ë°”ë¥¸ ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.')
    
    if not age or int(age) not in [10, 20, 30, 40, 50]:
        errors.append('ì˜¬ë°”ë¥¸ ë‚˜ì´ëŒ€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.')
    
    valid_brands = ['ìŠ¤íƒ€ë²…ìŠ¤', 'ì»¤í”¼ë¹ˆ', 'ì´ë””ì•¼', 'íƒì•¤íƒìŠ¤']
    if not co_survey or co_survey not in valid_brands:
        errors.append('ì˜¬ë°”ë¥¸ ì»¤í”¼ ë¸Œëœë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.')
    
    return errors
```

### 3. í†µê³„ ìš”ì•½ ì •ë³´
```python
def get_survey_statistics():
    """ì„¤ë¬¸ í†µê³„ ìš”ì•½ ì •ë³´"""
    total_count = Survey.objects.count()
    gender_stats = Survey.objects.values('gender').annotate(count=Count('rnum'))
    brand_stats = Survey.objects.values('co_survey').annotate(count=Count('rnum'))
    
    return {
        'total': total_count,
        'by_gender': gender_stats,
        'by_brand': brand_stats,
    }
```

---

## ğŸ¯ í•™ìŠµ ëª©í‘œ ë‹¬ì„±

ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë‹¤ìŒì„ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### âœ… Django ì›¹ ê°œë°œ
- ëª¨ë¸, ë·°, í…œí”Œë¦¿ íŒ¨í„´ ì´í•´
- URL ë¼ìš°íŒ… ë° í¼ ì²˜ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™

### âœ… í†µê³„ ë¶„ì„
- ì¹´ì´ì œê³± ë…ë¦½ì„± ê²€ì • ì´ë¡  ë° ì‹¤ìŠµ
- êµì°¨ë¶„í• í‘œ ìƒì„± ë° í•´ì„
- ê°€ì„¤ ê²€ì • ê³¼ì • ì´í•´

### âœ… ë°ì´í„° ì‹œê°í™”
- Matplotlibì„ í™œìš©í•œ ì°¨íŠ¸ ìƒì„±
- ì›¹ì—ì„œ í†µê³„ ê²°ê³¼ í‘œí˜„

### âœ… ì‹¤ë¬´ ì‘ìš©
- ì„¤ë¬¸ì¡°ì‚¬ ì‹œìŠ¤í…œ êµ¬í˜„
- í†µê³„ ë¶„ì„ ê²°ê³¼ ì›¹ ì¶œë ¥
- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„

---

*ì´ ë¬¸ì„œëŠ” Djangoì™€ í†µê³„í•™ì„ ì—°ê²°í•œ ì‹¤ë¬´í˜• í”„ë¡œì íŠ¸ ê°€ì´ë“œì…ë‹ˆë‹¤. ì‹¤ì œ ë§ˆì¼€íŒ… ë¦¬ì„œì¹˜ë‚˜ ë°ì´í„° ë¶„ì„ ì—…ë¬´ì— í™œìš©í•  ìˆ˜ ìˆëŠ” ê¸°ë³¸ í‹€ì„ ì œê³µí•©ë‹ˆë‹¤.*