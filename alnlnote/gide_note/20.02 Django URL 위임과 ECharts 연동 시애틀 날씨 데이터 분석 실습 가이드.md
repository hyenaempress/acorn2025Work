# 20.02 Django URL 위임과 ECharts 연동 시애틀 날씨 데이터 분석 실습 가이드

## 목차
1. [실습 개요](#실습-개요)
2. [URL 위임 시스템 구축](#url-위임-시스템-구축)
3. [CSV 자동 다운로드 시스템](#csv-자동-다운로드-시스템)
4. [데이터 전처리 및 분석](#데이터-전처리-및-분석)
5. [HTML 테이블 생성](#html-테이블-생성)
6. [ECharts 월별 기온 차트](#echarts-월별-기온-차트)
7. [반응형 템플릿 구현](#반응형-템플릿-구현)
8. [순서대로 따라하기](#순서대로-따라하기)
9. [트러블슈팅 및 팁](#트러블슈팅-및-팁)

---

## 실습 개요

### 🎯 실습 목표
- Django URL 위임(include) 방식 학습
- 시애틀 날씨 CSV 데이터 자동 다운로드 및 분석
- Pandas를 활용한 시계열 데이터 처리
- ECharts를 활용한 동적 차트 구현
- Bootstrap을 활용한 반응형 웹 페이지 구현

### 🗂️ 최종 프로젝트 구조
```
django2_chart/
├── manage.py
├── mainapp/              # 메인 프로젝트
│   ├── settings.py
│   ├── urls.py          # 🔑 URL 위임 설정
│   └── ...
├── myapp/               # 앱
│   ├── views.py         # 🔑 데이터 분석 뷰
│   ├── urls.py          # 🔑 앱 URL 설정
│   └── ...
├── templates/           # 템플릿
│   ├── index.html       # 메인 페이지
│   └── show.html        # 데이터 분석 페이지
├── data/               # 📁 자동 생성
│   └── seattle_weather.csv
└── static/             # 정적 파일
    └── ...
```

### 🌤️ 시애틀 날씨 데이터셋
- **출처**: [Vega Datasets](https://raw.githubusercontent.com/vega/vega-datasets/master/data/seattle-weather.csv)
- **컬럼**: date, precipitation, temp_max, temp_min, wind, weather
- **기간**: 2012-2015년 (약 1,461개 레코드)

---

## URL 위임 시스템 구축

### 1. 메인 프로젝트 URL 설정 (mainapp/urls.py)

```python
from django.contrib import admin
from django.urls import path, include
from myapp import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.index, name='index'),           # 메인 페이지
    path('show/', include('myapp.urls')),          # 🔑 URL 위임
]
```

### 2. 앱 URL 설정 (myapp/urls.py - 새로 생성)

```python
from django.urls import path
from myapp import views

urlpatterns = [
    path('', views.show, name='show'),    # /show/ → views.show 함수 호출
]
```

### 🔍 URL 위임 동작 과정
```
사용자 요청: /show/
    ↓
mainapp/urls.py: path('show/', include('myapp.urls'))
    ↓
myapp/urls.py: path('', views.show, name='show')
    ↓
views.show 함수 실행
```

---

## CSV 자동 다운로드 시스템

### csvFunc() 함수 구현

```python
import json, os
import pandas as pd
import numpy as np
import requests
from django.conf import settings
from datetime import datetime

# 📁 데이터 폴더 및 파일 경로 설정
DATA_DIR = os.path.join(settings.BASE_DIR, 'data')
CSV_PATH = os.path.join(DATA_DIR, 'seattle_weather.csv')
CSV_URL = "https://raw.githubusercontent.com/vega/vega-datasets/master/data/seattle-weather.csv"

def csvFunc():
    """CSV 파일이 없으면 자동으로 다운로드하는 스마트 함수"""
    
    # 📁 데이터 폴더가 없으면 생성
    os.makedirs(DATA_DIR, exist_ok=True)
    
    # 📥 CSV 파일이 없을 때만 다운로드
    if not os.path.exists(CSV_PATH):
        print("📥 CSV 파일을 다운로드합니다...")
        
        # 🌐 웹에서 CSV 데이터 요청 (20초 타임아웃)
        res = requests.get(CSV_URL, timeout=20)
        res.raise_for_status()  # HTTP 오류 시 예외 발생
        
        # 💾 바이너리 모드로 파일 저장 (한글 깨짐 방지)
        with open(CSV_PATH, mode='wb') as f:
            f.write(res.content)
        
        print("✅ CSV 파일 다운로드 완료!")
    else:
        print("📁 기존 CSV 파일을 사용합니다.")
```

### 🔑 핵심 포인트
- **💡 스마트 캐싱**: 파일이 있으면 다운로드하지 않음
- **⏰ 타임아웃 보호**: 20초 후 자동 중단
- **🛡️ 오류 처리**: `raise_for_status()`로 HTTP 오류 체크
- **📝 바이너리 저장**: 한글 인코딩 문제 방지

---

## 데이터 전처리 및 분석

### show() 뷰 함수 - 데이터 분석 부분

```python
def show(request):
    """시애틀 날씨 데이터 분석 및 표시"""
    
    try:
        # 1️⃣ CSV 파일 확보
        csvFunc()
        
        # 2️⃣ 데이터 로딩 및 기본 정보 확인
        df = pd.read_csv(CSV_PATH)
        print("📊 컬럼 정보:", df.columns.tolist())
        print("📋 데이터 정보:")
        print(df.info())
        
        # 3️⃣ 일부 컬럼만 선택 및 복사본 생성
        df = df[['date', 'precipitation', 'temp_max', 'temp_min', 'wind']].copy()
        
        # 4️⃣ 데이터 전처리
        df['date'] = pd.to_datetime(df['date'])  # 날짜 타입 변환
        df = df.dropna()  # 결측치 제거
        
        # 5️⃣ 기술 통계 계산 (평균, 표준편차, 최솟값, 최댓값 등)
        stats_df = df[['precipitation', 'temp_max', 'temp_min']].describe().round(3)
        print("📈 기술 통계:")
        print(stats_df)
        
        # ... (계속)
        
    except Exception as e:
        # 🚨 오류 발생 시 에러 페이지 표시
        return render(request, 'error.html', {
            'error_message': str(e),
            'error_type': type(e).__name__
        })
```

### 🔍 데이터 전처리 과정
1. **컬럼 선택**: 분석에 필요한 5개 컬럼만 추출
2. **날짜 변환**: `pd.to_datetime()`으로 문자열 → datetime 객체
3. **결측치 제거**: `dropna()`로 누락된 데이터 제거
4. **기술 통계**: `describe()`로 요약 통계량 계산

---

## HTML 테이블 생성

### Pandas DataFrame → HTML 변환

```python
# 6️⃣ HTML 테이블 생성
head_html = df.head(5).to_html(
    classes='table table-sm table-striped',  # Bootstrap 클래스 적용
    index=False,                              # 인덱스 제외
    border=0                                  # 테두리 제거
)

stats_html = stats_df.to_html(
    classes='table table-sm table-striped',
    border=0
)
```

### 🎨 Bootstrap 테이블 스타일링
- **`table`**: 기본 테이블 스타일
- **`table-sm`**: 컴팩트한 테이블
- **`table-striped`**: 줄무늬 배경

---

## ECharts 월별 기온 차트

### 1. 시계열 데이터 리샘플링

```python
# 7️⃣ ECharts용 데이터 준비 (월별 평균 최고기온)
monthly = (
    df.set_index('date')                      # 날짜를 인덱스로 설정
    .resample('ME')[['temp_max']]            # 월말 기준 리샘플링
    .mean()                                   # 평균값 계산
    .reset_index()                            # 인덱스를 다시 컬럼으로
)

# 8️⃣ 차트 데이터 포맷팅
labels = monthly['date'].dt.strftime('%Y-%m').tolist()  # ["2012-01", "2012-02", ...]
series = monthly['temp_max'].round(2).tolist()          # [7.05, 8.23, 12.47, ...]
```

### 🔍 리샘플링 핵심 개념
- **`set_index('date')`**: 날짜를 인덱스로 설정 (시계열 분석 준비)
- **`resample('ME')`**: Month End (월말) 기준으로 그룹화
- **`.mean()`**: 각 월의 평균값 계산
- **`reset_index()`**: 원래 테이블 구조로 복원

### 2. JSON 직렬화

```python
# 9️⃣ JavaScript에서 사용할 수 있도록 JSON 변환
ctx_dict = {
    'head_html': head_html,
    'stats_html': stats_html,
    'labels_json': json.dumps(labels, ensure_ascii=False),    # 한글 지원
    'series_json': json.dumps(series, ensure_ascii=False)
}

return render(request, 'show.html', ctx_dict)
```

### 🔑 JSON 직렬화 포인트
- **`json.dumps()`**: Python 리스트 → JSON 문자열
- **`ensure_ascii=False`**: 한글 문자 깨짐 방지

---

## 반응형 템플릿 구현

### templates/index.html (메인 페이지)

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django 시애틀 날씨 분석</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
        }
        .feature-card {
            transition: transform 0.3s ease;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <!-- 🎨 히어로 섹션 -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-4">🌤️ 시애틀 날씨 데이터 분석</h1>
            <p class="lead mb-5">Django와 ECharts를 활용한 실시간 데이터 분석</p>
            
            <!-- 🔗 일반 링크 방식 -->
            <a href="/show/" class="btn btn-light btn-lg me-3">
                📊 일반 링크로 분석 시작
            </a>
            
            <!-- 🔗 Django URL 패턴 방식 -->
            <a href="{% url 'show' %}" class="btn btn-outline-light btn-lg">
                🔗 URL 패턴으로 분석 시작
            </a>
        </div>
    </section>

    <!-- 📋 기능 소개 섹션 -->
    <section class="py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="card-body">
                            <h3>📥 자동 CSV 다운로드</h3>
                            <p>시애틀 날씨 데이터를 웹에서 자동으로 다운로드합니다.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="card-body">
                            <h3>📊 기술 통계 분석</h3>
                            <p>Pandas를 활용한 월별 시계열 데이터 분석을 수행합니다.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card h-100 text-center p-4">
                        <div class="card-body">
                            <h3>📈 ECharts 시각화</h3>
                            <p>인터랙티브한 월별 기온 변화 차트를 제공합니다.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>
```

### templates/show.html (데이터 분석 페이지)

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>시애틀 날씨 데이터 분석 결과</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    
    <style>
        body { background-color: #f8f9fa; }
        .chart-card { 
            height: 350px; 
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        #lineChart { height: 100%; width: 100%; }
        .stats-card, .data-card {
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .table-container { max-height: 400px; overflow-y: auto; }
        h2 { color: #495057; font-weight: bold; }
        h4 { color: #6c757d; font-weight: 600; }
    </style>
</head>
<body>
    <div class="container py-4">
        <!-- 📋 페이지 헤더 -->
        <div class="text-center mb-5">
            <h2 class="display-5">🌤️ 시애틀 날씨 데이터 분석 결과</h2>
            <p class="lead text-muted">2012-2015년 시애틀 날씨 데이터 기술 통계와 월별 기온 변화</p>
        </div>

        <!-- 📊 통계 및 데이터 섹션 -->
        <div class="row g-4 mb-5">
            <!-- 기술 통계 카드 -->
            <div class="col-lg-6">
                <div class="card stats-card h-100">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">📈 기술 통계 (강수량, 최고/최저기온)</h4>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            {{ stats_html | safe }}
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 샘플 데이터 카드 -->
            <div class="col-lg-6">
                <div class="card data-card h-100">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0">📋 데이터 프레임 헤드 (상위 5행)</h4>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            {{ head_html | safe }}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 📈 ECharts 차트 섹션 -->
        <div class="row g-4 mb-5">
            <div class="col-12">
                <div class="card chart-card">
                    <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">📊 월별 평균 최고 기온 변화 (라인 차트)</h4>
                        <small class="badge bg-light text-dark">2012-2015년 월별 리샘플링</small>
                    </div>
                    <div class="card-body p-2">
                        <div id="lineChart"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 🏠 네비게이션 -->
        <div class="text-center">
            <a href="{% url 'index' %}" class="btn btn-outline-primary btn-lg">
                🏠 메인으로 돌아가기
            </a>
        </div>
    </div>

    <!-- 📊 ECharts 라이브러리 (v5.x) -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

    <!-- 📈 차트 스크립트 -->
    <script>
        // 🎯 Django에서 전달받은 JSON 데이터
        const labels = {{ labels_json | safe }};      // 월별 라벨 ["2012-01", "2012-02", ...]
        const seriesData = {{ series_json | safe }};  // 기온 데이터 [7.05, 8.23, 12.47, ...]

        // 📊 ECharts 엘리먼트 및 차트 객체 초기화
        const el = document.getElementById('lineChart');
        const chart = echarts.init(el);

        // 🎨 차트 옵션 설정
        const option = {
            // 🖱️ 툴팁 설정
            tooltip: { 
                trigger: 'axis',
                formatter: function(params) {
                    const dataIndex = params[0].dataIndex;
                    const month = labels[dataIndex];
                    const temp = params[0].value;
                    return `<strong>${month}</strong><br/>평균 최고기온: <span style="color:#E74C3C;">${temp}°C</span>`;
                }
            },
            
            // 📏 그리드 (차트 여백 설정)
            grid: { 
                left: 48, 
                right: 16, 
                bottom: 24, 
                top: 24, 
                containLabel: true 
            },
            
            // 📅 X축 (카테고리형 - 월별 라벨)
            xAxis: {
                type: 'category',
                data: labels,
                axisLabel: { 
                    interval: 'auto',
                    rotate: 45  // 라벨 45도 회전
                }
            },
            
            // 🌡️ Y축 (숫자형 - 기온)
            yAxis: {
                type: 'value',
                axisLabel: { 
                    interval: 'auto',
                    formatter: '{value}°C'
                }
            },
            
            // 📈 시리즈 (실제 데이터)
            series: [
                {
                    name: '월별 평균 최고기온',
                    type: 'line',              // 라인 차트
                    data: seriesData,          // 실제 데이터
                    smooth: true,              // 부드러운 곡선
                    lineStyle: {
                        color: '#E74C3C',      // 빨간색 라인
                        width: 3
                    },
                    itemStyle: {
                        color: '#E74C3C'       // 포인트 색상
                    },
                    symbolSize: 4,             // 포인트 크기
                    areaStyle: {               // 영역 채우기
                        color: {
                            type: 'linear',
                            x: 0, y: 0, x2: 0, y2: 1,
                            colorStops: [
                                { offset: 0, color: 'rgba(231, 76, 60, 0.3)' },
                                { offset: 1, color: 'rgba(231, 76, 60, 0.1)' }
                            ]
                        }
                    }
                }
            ]
        };

        // 🚀 차트 옵션 적용
        chart.setOption(option);
        
        // 📱 반응형 차트 (윈도우 크기 변경 시 차트 크기 자동 조정)
        window.addEventListener('resize', () => chart.resize());
    </script>
</body>
</html>
```

---

## 순서대로 따라하기

### 🚀 Step 1: 프로젝트 기본 설정

```bash
# 1. 프로젝트 디렉토리 생성
mkdir django2_chart
cd django2_chart

# 2. Django 프로젝트 생성
django-admin startproject mainapp .

# 3. 앱 생성
python manage.py startapp myapp

# 4. 템플릿 폴더 생성
mkdir templates
```

### 🚀 Step 2: settings.py 설정

```python
# mainapp/settings.py 수정

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'myapp',  # 🔑 새로 생성한 앱 추가
]

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'],  # 🔑 템플릿 디렉토리 추가
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
```

### 🚀 Step 3: URL 위임 설정

**mainapp/urls.py:**
```python
from django.contrib import admin
from django.urls import path, include
from myapp import views

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.index, name='index'),
    path('show/', include('myapp.urls')),  # 🔑 URL 위임
]
```

**myapp/urls.py (새로 생성):**
```python
from django.urls import path
from myapp import views

urlpatterns = [
    path('', views.show, name='show'),
]
```

### 🚀 Step 4: 뷰 함수 구현

**myapp/views.py:**
```python
from django.shortcuts import render
import json, os
import pandas as pd
import numpy as np
import requests
from django.conf import settings
from datetime import datetime

# 데이터 폴더 및 파일 경로 설정
DATA_DIR = os.path.join(settings.BASE_DIR, 'data')
CSV_PATH = os.path.join(DATA_DIR, 'seattle_weather.csv')
CSV_URL = "https://raw.githubusercontent.com/vega/vega-datasets/master/data/seattle-weather.csv"

def index(request):
    """메인 페이지"""
    return render(request, 'index.html')

def csvFunc():
    """CSV 파일 자동 다운로드"""
    os.makedirs(DATA_DIR, exist_ok=True)
    
    if not os.path.exists(CSV_PATH):
        print("📥 CSV 파일 다운로드 중...")
        res = requests.get(CSV_URL, timeout=20)
        res.raise_for_status()
        
        with open(CSV_PATH, mode='wb') as f:
            f.write(res.content)
        print("✅ 다운로드 완료!")

def show(request):
    """시애틀 날씨 데이터 분석"""
    try:
        # 1. CSV 파일 확보
        csvFunc()
        
        # 2. 데이터 로딩
        df = pd.read_csv(CSV_PATH)
        print("📊 컬럼:", df.columns.tolist())
        print("📋 데이터 정보:")
        print(df.info())
        
        # 3. 일부 컬럼만 선택
        df = df[['date', 'precipitation', 'temp_max', 'temp_min', 'wind']].copy()
        
        # 4. 데이터 전처리
        df['date'] = pd.to_datetime(df['date'])
        df = df.dropna()
        
        # 5. 기술 통계
        stats_df = df[['precipitation', 'temp_max', 'temp_min']].describe().round(3)
        print("📈 기술 통계:")
        print(stats_df)
        
        # 6. HTML 테이블 생성
        head_html = df.head(5).to_html(
            classes='table table-sm table-striped',
            index=False,
            border=0
        )
        stats_html = stats_df.to_html(
            classes='table table-sm table-striped',
            border=0
        )
        
        # 7. ECharts용 월별 데이터 준비
        monthly = (
            df.set_index('date')
            .resample('ME')[['temp_max']]
            .mean()
            .reset_index()
        )
        
        # 8. 차트 데이터 포맷팅
        labels = monthly['date'].dt.strftime('%Y-%m').tolist()
        series = monthly['temp_max'].round(2).tolist()
        
        # 9. 템플릿 컨텍스트
        ctx_dict = {
            'head_html': head_html,
            'stats_html': stats_html,
            'labels_json': json.dumps(labels, ensure_ascii=False),
            'series_json': json.dumps(series, ensure_ascii=False)
        }
        
        return render(request, 'show.html', ctx_dict)
        
    except Exception as e:
        return render(request, 'error.html', {
            'error_message': str(e),
            'error_type': type(e).__name__
        })
```

### 🚀 Step 5: 템플릿 파일 생성

위의 [반응형 템플릿 구현](#반응형-템플릿-구현) 섹션의 `index.html`과 `show.html`을 `templates/` 폴더에 생성합니다.

### 🚀 Step 6: 서버 실행 및 테스트

```bash
# 1. 개발 서버 실행
python manage.py runserver

# 2. 브라우저에서 확인
# http://127.0.0.1:8000/        - 메인 페이지
# http://127.0.0.1:8000/show/   - 데이터 분석 페이지
```

### 🚀 Step 7: 동작 확인

1. **메인 페이지**: 두 개의 링크 버튼이 표시되는지 확인
2. **데이터 분석 페이지**: 
   - 콘솔에 "📥 CSV 파일 다운로드 중..." 메시지 확인
   - `data/seattle_weather.csv` 파일 생성 확인
   - 기술 통계 테이블 표시 확인
   - 샘플 데이터 테이블 표시 확인
   - ECharts 월별 기온 차트 표시 확인

---

## 트러블슈팅 및 팁

### 🔧 주요 트러블슈팅

#### 1. **requests 모듈 오류**
```bash
pip install requests
```

#### 2. **CSV 다운로드 타임아웃**
```python
# 타임아웃 시간 증가
res = requests.get(CSV_URL, timeout=30)
```

#### 3. **IP 주소로 접속 시 오류**
```python
# settings.py에서 ALLOWED_HOSTS 설정
ALLOWED_HOSTS = ['127.0.0.1', 'localhost', '192.168.0.133']
```

#### 4. **템플릿 not found 오류**
```python
# settings.py TEMPLATES 설정 확인
'DIRS': [BASE_DIR / 'templates'],
```

#### 5. **ECharts 차트가 안 보임**
- 브라우저 개발자 도구(F12) 콘솔 오류 확인
- ECharts CDN 링크 확인
- `labels_json`과 `series_json` 데이터 확인

### 💡 유용한 팁

#### 1. **데이터 확인 방법**
```python
# 뷰 함수에서 데이터 확인
print("📊 Labels:", labels[:5])  # 처음 5개만 출력
print("📈 Series:", series[:5])
```

#### 2. **차트 디버깅**
```javascript
// 템플릿에서 데이터 확인
console.log("Labels:", labels);
console.log("Series Data:", seriesData);
```

#### 3. **반응형 차트 크기 조정**
```css
/* 차트 컨테이너 높이 조정 */
.chart-card { height: 400px; }  /* 350px → 400px */
```

#### 4. **한글 폰트 문제 해결**
```python
# matplotlib 한글 폰트 설정 (필요 시)
import matplotlib.pyplot as plt
plt.rcParams['font.family'] = 'DejaVu Sans'
```

### 🎯 핵심 학습 포인트

1. **URL 위임**: `include()`를 사용한 모듈화된 URL 관리
2. **스마트 캐싱**: 파일 존재 여부 확인 후 조건부 다운로드
3. **시계열 분석**: `resample('ME')`를 활용한 월별 데이터 집계
4. **JSON 직렬화**: Python 데이터 → JavaScript 변수 전달
5. **반응형 차트**: ECharts + Bootstrap을 활용한 모바일 친화적 UI

### 🚀 확장 아이디어

1. **추가 차트**: 강수량 막대 차트, 풍속 산점도
2. **필터 기능**: 연도별, 계절별 데이터 필터링
3. **실시간 업데이트**: AJAX를 활용한 동적 데이터 갱신
4. **데이터 내보내기**: CSV, Excel 파일 다운로드 기능
5. **API 연동**: 실시간 날씨 API와 연동

이제 Django URL 위임과 ECharts를 활용한 완전한 데이터 분석 웹 애플리케이션을 구축할 수 있습니다! 🌟