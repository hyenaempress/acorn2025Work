# 20.02.02 Django JSON ì§ë ¬í™” ì™„ë²½ ê°€ì´ë“œ - Pythonì—ì„œ JavaScriptë¡œ

> **ì°¸ê³  ìë£Œ**: [17.04.01 JSON ê¸°ì´ˆë¶€í„° ì‹¤ì „ê¹Œì§€](17.04.01%20JSON%20ê¸°ì´ˆë¶€í„°%20ì‹¤ì „ê¹Œì§€%20-%20API%20ì‹œëŒ€ì˜%20í•µì‹¬%20ê¸°ìˆ .md)ì—ì„œ JSONì˜ ê¸°ë³¸ ê°œë…ê³¼ Python json ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ë²•ì„ ë¨¼ì € í•™ìŠµí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

## ëª©ì°¨
1. [JSON ì§ë ¬í™”ë€ ë¬´ì—‡ì¸ê°€](#json-ì§ë ¬í™”ë€-ë¬´ì—‡ì¸ê°€)
2. [Djangoì—ì„œ JSON ì§ë ¬í™” ê¸°ë³¸](#djangoì—ì„œ-json-ì§ë ¬í™”-ê¸°ë³¸)
3. [Python ë°ì´í„° íƒ€ì…ë³„ ì§ë ¬í™”](#python-ë°ì´í„°-íƒ€ì…ë³„-ì§ë ¬í™”)
4. [Django ëª¨ë¸ ì§ë ¬í™”](#django-ëª¨ë¸-ì§ë ¬í™”)
5. [Pandas ë°ì´í„°í”„ë ˆì„ ì§ë ¬í™”](#pandas-ë°ì´í„°í”„ë ˆì„-ì§ë ¬í™”)
6. [ë‚ ì§œ/ì‹œê°„ ë°ì´í„° ì§ë ¬í™”](#ë‚ ì§œì‹œê°„-ë°ì´í„°-ì§ë ¬í™”)
7. [í•œê¸€ ë° ìœ ë‹ˆì½”ë“œ ì²˜ë¦¬](#í•œê¸€-ë°-ìœ ë‹ˆì½”ë“œ-ì²˜ë¦¬)
8. [ECharts ì—°ë™ ìµœì í™”](#echarts-ì—°ë™-ìµœì í™”)
9. [ì„±ëŠ¥ ìµœì í™” ê¸°ë²•](#ì„±ëŠ¥-ìµœì í™”-ê¸°ë²•)
10. [ë³´ì•ˆ ê³ ë ¤ì‚¬í•­](#ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­)
11. [ì‹¤ì „ ì˜ˆì œ ëª¨ìŒ](#ì‹¤ì „-ì˜ˆì œ-ëª¨ìŒ)

---

## JSON ì§ë ¬í™”ë€ ë¬´ì—‡ì¸ê°€

### ğŸ¯ ì§ë ¬í™”(Serialization) ê°œë…

**ì§ë ¬í™”**ëŠ” ë©”ëª¨ë¦¬ì— ìˆëŠ” ê°ì²´ë‚˜ ë°ì´í„° êµ¬ì¡°ë¥¼ ì €ì¥ì´ë‚˜ ì „ì†¡ì´ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.

```python
# ğŸ§  ë©”ëª¨ë¦¬ì— ìˆëŠ” Python ê°ì²´
python_data = {
    'name': 'ê¹€ê°œë°œ',
    'skills': ['Python', 'Django'],
    'score': 95.5
}

# ğŸ“ JSON ë¬¸ìì—´ë¡œ ì§ë ¬í™” (Serialization)
json_string = json.dumps(python_data)
# ê²°ê³¼: '{"name": "ê¹€ê°œë°œ", "skills": ["Python", "Django"], "score": 95.5}'

# ğŸ”„ ë‹¤ì‹œ Python ê°ì²´ë¡œ ì—­ì§ë ¬í™” (Deserialization)
restored_data = json.loads(json_string)
```

### ğŸŒ Djangoì—ì„œ JSON ì§ë ¬í™”ê°€ ì¤‘ìš”í•œ ì´ìœ 

#### 1. **ì›¹ ë¸Œë¼ìš°ì €ì™€ì˜ í†µì‹ **
```python
# Python (Django ì„œë²„)                    JavaScript (ë¸Œë¼ìš°ì €)
python_list = [1, 2, 3, 4, 5]     â†’      const jsArray = [1, 2, 3, 4, 5];
python_dict = {'key': 'value'}    â†’      const jsObject = {key: 'value'};
```

#### 2. **ECharts ì°¨íŠ¸ ë°ì´í„° ì „ë‹¬**
```python
# ğŸ Pythonì—ì„œ ì°¨íŠ¸ ë°ì´í„° ì¤€ë¹„
chart_labels = ['1ì›”', '2ì›”', '3ì›”', '4ì›”']
chart_values = [120, 200, 150, 80]

# ğŸ“¤ JSONìœ¼ë¡œ ì§ë ¬í™”í•´ì„œ í…œí”Œë¦¿ìœ¼ë¡œ ì „ë‹¬
context = {
    'labels_json': json.dumps(chart_labels, ensure_ascii=False),
    'values_json': json.dumps(chart_values)
}
```

```html
<!-- ğŸŒ HTML í…œí”Œë¦¿ì—ì„œ JavaScriptë¡œ ì‚¬ìš© -->
<script>
    const labels = {{ labels_json|safe }};      // ['1ì›”', '2ì›”', '3ì›”', '4ì›”']
    const values = {{ values_json|safe }};      // [120, 200, 150, 80]
    
    // EChartsì—ì„œ ì‚¬ìš©
    const option = {
        xAxis: { data: labels },
        series: [{ data: values }]
    };
</script>
```

---

## Djangoì—ì„œ JSON ì§ë ¬í™” ê¸°ë³¸

### ğŸ”§ json.dumps() ê¸°ë³¸ ì‚¬ìš©ë²•

```python
import json
from django.shortcuts import render

def basic_json_view(request):
    """ê¸°ë³¸ì ì¸ JSON ì§ë ¬í™” ì˜ˆì œ"""
    
    # ğŸ“Š ì°¨íŠ¸ìš© ë°ì´í„° ì¤€ë¹„
    sales_data = {
        'months': ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”'],
        'values': [1200, 1500, 1800, 1600, 2100],
        'categories': {
            'ì˜¨ë¼ì¸': 800,
            'ì˜¤í”„ë¼ì¸': 1300
        }
    }
    
    # ğŸ”„ JSON ì§ë ¬í™” (ê¸°ë³¸)
    sales_json_basic = json.dumps(sales_data)
    print("ê¸°ë³¸ ì§ë ¬í™”:", sales_json_basic)
    
    # ğŸ”„ JSON ì§ë ¬í™” (í•œê¸€ ì§€ì›)
    sales_json_korean = json.dumps(sales_data, ensure_ascii=False)
    print("í•œê¸€ ì§€ì›:", sales_json_korean)
    
    # ğŸ”„ JSON ì§ë ¬í™” (ì˜ˆì˜ê²Œ í¬ë§·íŒ…)
    sales_json_pretty = json.dumps(sales_data, ensure_ascii=False, indent=2)
    print("ì˜ˆìœ í¬ë§·:", sales_json_pretty)
    
    # ğŸ“¤ í…œí”Œë¦¿ì— ì „ë‹¬
    context = {
        'sales_data_json': sales_json_korean,
        'months_json': json.dumps(sales_data['months'], ensure_ascii=False),
        'values_json': json.dumps(sales_data['values'])
    }
    
    return render(request, 'chart.html', context)
```

### ğŸ›ï¸ json.dumps() ì£¼ìš” ì˜µì…˜ë“¤

```python
def json_options_demo():
    """json.dumps()ì˜ ë‹¤ì–‘í•œ ì˜µì…˜ë“¤"""
    
    test_data = {
        'korean': 'í•œê¸€ í…ŒìŠ¤íŠ¸',
        'number': 123.456789,
        'boolean': True,
        'null_value': None,
        'list': [1, 2, 3],
        'nested': {'deep': {'value': 'ì¤‘ì²© ê°ì²´'}}
    }
    
    # 1ï¸âƒ£ ensure_ascii (í•œê¸€ ì²˜ë¦¬)
    print("ğŸ”¤ ensure_ascii ì˜µì…˜:")
    print("False:", json.dumps(test_data, ensure_ascii=False))
    print("True :", json.dumps(test_data, ensure_ascii=True))
    
    # 2ï¸âƒ£ indent (ë“¤ì—¬ì“°ê¸°)
    print("\nğŸ“ indent ì˜µì…˜:")
    print("ì—†ìŒ:", json.dumps(test_data, ensure_ascii=False))
    print("2ì¹¸ :", json.dumps(test_data, ensure_ascii=False, indent=2))
    
    # 3ï¸âƒ£ sort_keys (í‚¤ ì •ë ¬)
    print("\nğŸ”¤ sort_keys ì˜µì…˜:")
    print("ì •ë ¬X:", json.dumps(test_data, ensure_ascii=False))
    print("ì •ë ¬O:", json.dumps(test_data, ensure_ascii=False, sort_keys=True))
    
    # 4ï¸âƒ£ separators (êµ¬ë¶„ì ì»¤ìŠ¤í„°ë§ˆì´ì§•)
    print("\nâœ‚ï¸ separators ì˜µì…˜:")
    print("ê¸°ë³¸  :", json.dumps(test_data, ensure_ascii=False))
    print("ì»´íŒ©íŠ¸:", json.dumps(test_data, ensure_ascii=False, separators=(',', ':')))

json_options_demo()
```

---

## Python ë°ì´í„° íƒ€ì…ë³„ ì§ë ¬í™”

### ğŸ“‹ ê¸°ë³¸ ë°ì´í„° íƒ€ì…

```python
def basic_types_serialization():
    """Python ê¸°ë³¸ íƒ€ì…ë“¤ì˜ JSON ì§ë ¬í™”"""
    
    # âœ… JSONì—ì„œ ì§€ì›í•˜ëŠ” íƒ€ì…ë“¤
    supported_types = {
        'string': 'ë¬¸ìì—´',
        'integer': 42,
        'float': 3.14159,
        'boolean_true': True,
        'boolean_false': False,
        'null': None,
        'list': [1, 2, 3, 'ë¦¬ìŠ¤íŠ¸'],
        'dict': {'ì¤‘ì²©': 'ë”•ì…”ë„ˆë¦¬'}
    }
    
    print("âœ… ì§€ì›ë˜ëŠ” íƒ€ì…ë“¤:")
    json_result = json.dumps(supported_types, ensure_ascii=False, indent=2)
    print(json_result)
    
    # âŒ JSONì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” íƒ€ì…ë“¤
    from decimal import Decimal
    from datetime import datetime, date
    import numpy as np
    
    unsupported_examples = {
        'decimal': Decimal('10.50'),
        'datetime': datetime.now(),
        'date': date.today(),
        'set': {1, 2, 3},
        'tuple': (1, 2, 3),
        'numpy_array': np.array([1, 2, 3]),
        'function': lambda x: x + 1
    }
    
    print("\nâŒ ì§€ì›ë˜ì§€ ì•ŠëŠ” íƒ€ì…ë“¤:")
    for key, value in unsupported_examples.items():
        try:
            json.dumps(value)
            print(f"  {key}: âœ… (ë³€í™˜ë¨)")
        except TypeError as e:
            print(f"  {key}: âŒ ({type(value).__name__})")

basic_types_serialization()
```

### ğŸ”„ ì§€ì›ë˜ì§€ ì•ŠëŠ” íƒ€ì… ë³€í™˜í•˜ê¸°

```python
from decimal import Decimal
from datetime import datetime, date
import numpy as np

def convert_unsupported_types():
    """ì§€ì›ë˜ì§€ ì•ŠëŠ” íƒ€ì…ë“¤ì„ JSON í˜¸í™˜ íƒ€ì…ìœ¼ë¡œ ë³€í™˜"""
    
    # ì›ë³¸ ë°ì´í„° (JSON ì§ë ¬í™” ë¶ˆê°€ëŠ¥)
    problematic_data = {
        'price': Decimal('29.99'),
        'created_at': datetime.now(),
        'birth_date': date(1990, 5, 15),
        'tags': {'Python', 'Django', 'JSON'},  # set
        'coordinates': (37.5665, 126.9780),    # tuple
        'scores': np.array([85, 90, 78, 92])   # numpy array
    }
    
    # ğŸ”§ ë³€í™˜ í•¨ìˆ˜ë“¤
    def convert_for_json(obj):
        """JSON ì§ë ¬í™” ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë³€í™˜"""
        if isinstance(obj, Decimal):
            return float(obj)
        elif isinstance(obj, (datetime, date)):
            return obj.isoformat()
        elif isinstance(obj, set):
            return list(obj)
        elif isinstance(obj, tuple):
            return list(obj)
        elif isinstance(obj, np.ndarray):
            return obj.tolist()
        elif hasattr(obj, '__dict__'):  # ì‚¬ìš©ì ì •ì˜ ê°ì²´
            return obj.__dict__
        else:
            return obj
    
    # ğŸ”„ ë°ì´í„° ë³€í™˜
    converted_data = {}
    for key, value in problematic_data.items():
        converted_data[key] = convert_for_json(value)
    
    print("ğŸ”§ ë³€í™˜ëœ ë°ì´í„°:")
    json_result = json.dumps(converted_data, ensure_ascii=False, indent=2)
    print(json_result)
    
    return converted_data

converted = convert_unsupported_types()
```

### ğŸ­ Custom JSON Encoder ì‚¬ìš©í•˜ê¸°

```python
import json
from decimal import Decimal
from datetime import datetime, date

class CustomJSONEncoder(json.JSONEncoder):
    """ì‚¬ìš©ì ì •ì˜ JSON ì¸ì½”ë”"""
    
    def default(self, obj):
        """JSON ì§ë ¬í™” ë¶ˆê°€ëŠ¥í•œ ê°ì²´ë“¤ì„ ì²˜ë¦¬"""
        
        if isinstance(obj, Decimal):
            return float(obj)
        elif isinstance(obj, datetime):
            return obj.strftime('%Y-%m-%d %H:%M:%S')
        elif isinstance(obj, date):
            return obj.strftime('%Y-%m-%d')
        elif isinstance(obj, set):
            return list(obj)
        elif isinstance(obj, tuple):
            return list(obj)
        elif hasattr(obj, 'tolist'):  # numpy ë°°ì—´
            return obj.tolist()
        
        # ê¸°ë³¸ ì²˜ë¦¬ë¥¼ ë¶€ëª¨ í´ë˜ìŠ¤ì— ìœ„ì„
        return super().default(obj)

def custom_encoder_demo():
    """Custom JSON Encoder ì‚¬ìš© ì˜ˆì œ"""
    
    complex_data = {
        'product_name': 'í”„ë¦¬ë¯¸ì—„ ìƒí’ˆ',
        'price': Decimal('149.99'),
        'created_at': datetime.now(),
        'launch_date': date(2024, 3, 15),
        'tags': {'í”„ë¦¬ë¯¸ì—„', 'í•œì •íŒ', 'ì‹ ìƒí’ˆ'},
        'coordinates': (37.5665, 126.9780),
        'ratings': np.array([4.5, 4.8, 4.2, 4.9])
    }
    
    # âŒ ê¸°ë³¸ json.dumps() ì‚¬ìš© ì‹œ ì˜¤ë¥˜
    try:
        standard_json = json.dumps(complex_data, ensure_ascii=False)
    except TypeError as e:
        print(f"âŒ ê¸°ë³¸ ì§ë ¬í™” ì‹¤íŒ¨: {e}")
    
    # âœ… Custom Encoder ì‚¬ìš©
    try:
        custom_json = json.dumps(
            complex_data, 
            cls=CustomJSONEncoder,
            ensure_ascii=False,
            indent=2
        )
        print("âœ… Custom Encoderë¡œ ì„±ê³µ:")
        print(custom_json)
    except Exception as e:
        print(f"âŒ Custom Encoder ì‹¤íŒ¨: {e}")

custom_encoder_demo()
```

---

## Django ëª¨ë¸ ì§ë ¬í™”

### ğŸ—„ï¸ Django ëª¨ë¸ì„ JSONìœ¼ë¡œ ë³€í™˜í•˜ê¸°

```python
# models.py
from django.db import models
from decimal import Decimal

class Product(models.Model):
    name = models.CharField(max_length=100)
    price = models.DecimalField(max_digits=10, decimal_places=2)
    created_at = models.DateTimeField(auto_now_add=True)
    is_active = models.BooleanField(default=True)
    
    def __str__(self):
        return self.name

class Sale(models.Model):
    product = models.ForeignKey(Product, on_delete=models.CASCADE)
    quantity = models.IntegerField()
    sale_date = models.DateTimeField(auto_now_add=True)
    total_amount = models.DecimalField(max_digits=12, decimal_places=2)
```

```python
# views.py
from django.shortcuts import render
from django.core import serializers
from django.http import JsonResponse
import json

def django_model_serialization(request):
    """Django ëª¨ë¸ ì§ë ¬í™” ë‹¤ì–‘í•œ ë°©ë²•ë“¤"""
    
    # ğŸ“Š ìƒ˜í”Œ ë°ì´í„° ì¡°íšŒ
    products = Product.objects.all()[:5]
    
    # ë°©ë²• 1: Django serializers ì‚¬ìš©
    django_serialized = serializers.serialize('json', products)
    print("Django serializer ê²°ê³¼:")
    print(django_serialized)
    
    # ë°©ë²• 2: ìˆ˜ë™ìœ¼ë¡œ ë”•ì…”ë„ˆë¦¬ ë³€í™˜
    products_list = []
    for product in products:
        product_dict = {
            'id': product.id,
            'name': product.name,
            'price': float(product.price),  # Decimal â†’ float ë³€í™˜
            'created_at': product.created_at.isoformat(),
            'is_active': product.is_active
        }
        products_list.append(product_dict)
    
    manual_serialized = json.dumps(products_list, ensure_ascii=False)
    print("ìˆ˜ë™ ë³€í™˜ ê²°ê³¼:")
    print(manual_serialized)
    
    # ë°©ë²• 3: values() í™œìš©
    products_values = list(Product.objects.values(
        'id', 'name', 'price', 'created_at', 'is_active'
    ))
    
    # Decimalê³¼ datetime ë³€í™˜
    for product in products_values:
        product['price'] = float(product['price'])
        product['created_at'] = product['created_at'].isoformat()
    
    values_serialized = json.dumps(products_values, ensure_ascii=False)
    print("values() í™œìš© ê²°ê³¼:")
    print(values_serialized)
    
    return JsonResponse({
        'django_serialized': json.loads(django_serialized),
        'manual_serialized': products_list,
        'values_serialized': products_values
    })
```

### ğŸ”— Related Field ì²˜ë¦¬í•˜ê¸°

```python
def related_field_serialization():
    """ê´€ê³„í˜• í•„ë“œê°€ ìˆëŠ” ëª¨ë¸ ì§ë ¬í™”"""
    
    # íŒë§¤ ë°ì´í„° ì¡°íšŒ (Productì™€ ì—°ê²°ë¨)
    sales = Sale.objects.select_related('product').all()[:10]
    
    # ë°©ë²• 1: ìˆ˜ë™ìœ¼ë¡œ ê´€ë ¨ ê°ì²´ í¬í•¨
    sales_with_product = []
    for sale in sales:
        sale_dict = {
            'id': sale.id,
            'quantity': sale.quantity,
            'total_amount': float(sale.total_amount),
            'sale_date': sale.sale_date.isoformat(),
            'product': {
                'id': sale.product.id,
                'name': sale.product.name,
                'price': float(sale.product.price)
            }
        }
        sales_with_product.append(sale_dict)
    
    # ë°©ë²• 2: values() with ê´€ê³„í˜• í•„ë“œ
    sales_values = list(Sale.objects.select_related('product').values(
        'id', 'quantity', 'total_amount', 'sale_date',
        'product__id', 'product__name', 'product__price'
    ))
    
    # ë°ì´í„° íƒ€ì… ë³€í™˜
    for sale in sales_values:
        sale['total_amount'] = float(sale['total_amount'])
        sale['product__price'] = float(sale['product__price'])
        sale['sale_date'] = sale['sale_date'].isoformat()
    
    return {
        'manual_with_product': sales_with_product,
        'values_with_product': sales_values
    }
```

### ğŸ“ˆ Aggregation ê²°ê³¼ ì§ë ¬í™”

```python
from django.db.models import Sum, Count, Avg
from django.db.models.functions import TruncMonth

def aggregation_serialization():
    """ì§‘ê³„ ê²°ê³¼ë¥¼ ì°¨íŠ¸ìš© JSONìœ¼ë¡œ ì§ë ¬í™”"""
    
    # ì›”ë³„ ë§¤ì¶œ ì§‘ê³„
    monthly_sales = (
        Sale.objects
        .annotate(month=TruncMonth('sale_date'))
        .values('month')
        .annotate(
            total_sales=Sum('total_amount'),
            total_quantity=Sum('quantity'),
            avg_amount=Avg('total_amount')
        )
        .order_by('month')
    )
    
    # EChartsìš© ë°ì´í„° ì¤€ë¹„
    chart_data = {
        'months': [],
        'sales': [],
        'quantities': [],
        'averages': []
    }
    
    for item in monthly_sales:
        chart_data['months'].append(item['month'].strftime('%Y-%m'))
        chart_data['sales'].append(float(item['total_sales'] or 0))
        chart_data['quantities'].append(item['total_quantity'] or 0)
        chart_data['averages'].append(float(item['avg_amount'] or 0))
    
    # JSON ì§ë ¬í™”
    chart_json = {
        'months_json': json.dumps(chart_data['months'], ensure_ascii=False),
        'sales_json': json.dumps(chart_data['sales']),
        'quantities_json': json.dumps(chart_data['quantities']),
        'averages_json': json.dumps(chart_data['averages'])
    }
    
    return chart_json
```

---

## Pandas ë°ì´í„°í”„ë ˆì„ ì§ë ¬í™”

### ğŸ“Š DataFrameì„ JSONìœ¼ë¡œ ë³€í™˜í•˜ê¸°

```python
import pandas as pd
import numpy as np
from datetime import datetime, timedelta

def pandas_json_serialization():
    """Pandas DataFrameì˜ ë‹¤ì–‘í•œ JSON ì§ë ¬í™” ë°©ë²•"""
    
    # ğŸ“Š ìƒ˜í”Œ ë°ì´í„°í”„ë ˆì„ ìƒì„±
    dates = pd.date_range('2024-01-01', periods=12, freq='M')
    df = pd.DataFrame({
        'month': dates,
        'sales': np.random.randint(1000, 5000, 12),
        'profit': np.random.uniform(0.1, 0.3, 12),
        'region': ['ì„œìš¸', 'ë¶€ì‚°', 'ëŒ€êµ¬', 'ì¸ì²œ'] * 3,
        'is_holiday': [True, False, False, True] * 3
    })
    
    print("ğŸ“Š ì›ë³¸ DataFrame:")
    print(df.head())
    print(f"ë°ì´í„° íƒ€ì…:\n{df.dtypes}")
    
    # ë°©ë²• 1: to_json() ì‚¬ìš©
    print("\n1ï¸âƒ£ DataFrame.to_json() ë°©ë²•ë“¤:")
    
    # records í˜•ì‹ (ê°€ì¥ ì¼ë°˜ì )
    records_json = df.to_json(orient='records', date_format='iso', force_ascii=False)
    print("records í˜•ì‹:", records_json[:100] + "...")
    
    # values í˜•ì‹ (2ì°¨ì› ë°°ì—´)
    values_json = df.to_json(orient='values', date_format='iso')
    print("values í˜•ì‹:", values_json[:100] + "...")
    
    # index í˜•ì‹ (ì¸ë±ìŠ¤ë¥¼ í‚¤ë¡œ)
    index_json = df.to_json(orient='index', date_format='iso', force_ascii=False)
    print("index í˜•ì‹:", index_json[:100] + "...")
    
    # ë°©ë²• 2: ìˆ˜ë™ ë³€í™˜ (ë” ì„¸ë°€í•œ ì œì–´)
    print("\n2ï¸âƒ£ ìˆ˜ë™ ë³€í™˜:")
    
    # ë‚ ì§œë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜
    df_copy = df.copy()
    df_copy['month'] = df_copy['month'].dt.strftime('%Y-%m')
    df_copy['profit'] = df_copy['profit'].round(3)
    
    manual_json = json.dumps(
        df_copy.to_dict('records'),
        ensure_ascii=False,
        indent=2
    )
    print("ìˆ˜ë™ ë³€í™˜ ê²°ê³¼:", manual_json[:200] + "...")
    
    return df, records_json, manual_json

# ì‹¤í–‰
df, records, manual = pandas_json_serialization()
```

### ğŸ“ˆ ì‹œê³„ì—´ ë°ì´í„° íŠ¹ë³„ ì²˜ë¦¬

```python
def timeseries_json_serialization():
    """ì‹œê³„ì—´ ë°ì´í„°ì˜ JSON ì§ë ¬í™”"""
    
    # ğŸ“… ì‹œê³„ì—´ ë°ì´í„° ìƒì„±
    dates = pd.date_range('2024-01-01', periods=365, freq='D')
    ts_df = pd.DataFrame({
        'date': dates,
        'temperature': 20 + 10 * np.sin(2 * np.pi * np.arange(365) / 365) + np.random.normal(0, 2, 365),
        'humidity': 50 + 20 * np.cos(2 * np.pi * np.arange(365) / 365) + np.random.normal(0, 5, 365),
        'rainfall': np.random.exponential(2, 365)
    })
    
    # ì›”ë³„ ì§‘ê³„
    monthly_avg = ts_df.resample('M', on='date').agg({
        'temperature': 'mean',
        'humidity': 'mean',
        'rainfall': 'sum'
    }).round(2)
    
    # EChartsìš© ë°ì´í„° ì¤€ë¹„
    chart_data = {
        'months': monthly_avg.index.strftime('%Y-%m').tolist(),
        'temperature': monthly_avg['temperature'].tolist(),
        'humidity': monthly_avg['humidity'].tolist(),
        'rainfall': monthly_avg['rainfall'].tolist()
    }
    
    # JSON ì§ë ¬í™”
    json_data = {}
    for key, values in chart_data.items():
        if key == 'months':
            json_data[f'{key}_json'] = json.dumps(values, ensure_ascii=False)
        else:
            json_data[f'{key}_json'] = json.dumps(values)
    
    print("ğŸ“ˆ ì‹œê³„ì—´ ì°¨íŠ¸ìš© JSON ë°ì´í„°:")
    for key, value in json_data.items():
        print(f"{key}: {value[:50]}...")
    
    return json_data

timeseries_data = timeseries_json_serialization()
```

### ğŸ”„ MultiIndex DataFrame ì²˜ë¦¬

```python
def multiindex_json_serialization():
    """MultiIndex DataFrameì˜ JSON ì§ë ¬í™”"""
    
    # ğŸ¢ ë‹¤ì°¨ì› ë°ì´í„° ìƒì„±
    regions = ['ì„œìš¸', 'ë¶€ì‚°', 'ëŒ€êµ¬']
    quarters = ['Q1', 'Q2', 'Q3', 'Q4']
    years = [2023, 2024]
    
    # MultiIndex ìƒì„±
    index = pd.MultiIndex.from_product(
        [years, quarters, regions],
        names=['year', 'quarter', 'region']
    )
    
    # ëœë¤ ë°ì´í„°
    data = {
        'sales': np.random.randint(1000, 10000, len(index)),
        'profit': np.random.randint(100, 1000, len(index)),
        'customers': np.random.randint(50, 500, len(index))
    }
    
    multi_df = pd.DataFrame(data, index=index)
    
    print("ğŸ¢ MultiIndex DataFrame:")
    print(multi_df.head())
    
    # ë°©ë²• 1: reset_index()ë¡œ í‰ë©´í™”
    flat_df = multi_df.reset_index()
    flat_json = json.dumps(
        flat_df.to_dict('records'),
        ensure_ascii=False,
        indent=2
    )
    
    print("\n1ï¸âƒ£ í‰ë©´í™” í›„ JSON:")
    print(flat_json[:200] + "...")
    
    # ë°©ë²• 2: í”¼ë²— í…Œì´ë¸”ë¡œ ë³€í™˜
    pivot_df = multi_df.reset_index().pivot_table(
        index=['year', 'quarter'],
        columns='region',
        values='sales',
        aggfunc='sum'
    ).fillna(0)
    
    print("\n2ï¸âƒ£ í”¼ë²— í…Œì´ë¸”:")
    print(pivot_df)
    
    # íˆíŠ¸ë§µìš© ë°ì´í„° ì¤€ë¹„
    heatmap_data = []
    for i, year_quarter in enumerate(pivot_df.index):
        for j, region in enumerate(pivot_df.columns):
            heatmap_data.append([i, j, int(pivot_df.iloc[i, j])])
    
    heatmap_json = {
        'x_labels': [f"{yq[0]} {yq[1]}" for yq in pivot_df.index],
        'y_labels': pivot_df.columns.tolist(),
        'data': heatmap_data
    }
    
    print("\n3ï¸âƒ£ íˆíŠ¸ë§µìš© JSON:")
    print(json.dumps(heatmap_json, ensure_ascii=False, indent=2))
    
    return flat_json, heatmap_json

flat, heatmap = multiindex_json_serialization()
```

---

## ë‚ ì§œ/ì‹œê°„ ë°ì´í„° ì§ë ¬í™”

### ğŸ“… ë‹¤ì–‘í•œ ë‚ ì§œ í˜•ì‹ ì²˜ë¦¬

```python
from datetime import datetime, date, time, timedelta
import pytz

def datetime_json_serialization():
    """ë‚ ì§œ/ì‹œê°„ ë°ì´í„°ì˜ JSON ì§ë ¬í™”"""
    
    # ğŸ“… ë‹¤ì–‘í•œ ë‚ ì§œ/ì‹œê°„ ê°ì²´ë“¤
    now = datetime.now()
    today = date.today()
    current_time = time(14, 30, 45)
    utc_now = datetime.now(pytz.UTC)
    seoul_tz = pytz.timezone('Asia/Seoul')
    seoul_now = datetime.now(seoul_tz)
    
    datetime_data = {
        'naive_datetime': now,
        'date_only': today,
        'time_only': current_time,
        'utc_datetime': utc_now,
        'seoul_datetime': seoul_now,
        'timedelta': timedelta(days=7, hours=3, minutes=30)
    }
    
    print("ğŸ“… ì›ë³¸ ë‚ ì§œ/ì‹œê°„ ë°ì´í„°:")
    for key, value in datetime_data.items():
        print(f"  {key}: {value} ({type(value).__name__})")
    
    # ğŸ”„ JSON í˜¸í™˜ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
    converted_data = {}
    
    for key, value in datetime_data.items():
        if isinstance(value, datetime):
            # ISO 8601 í˜•ì‹ìœ¼ë¡œ ë³€í™˜
            converted_data[key] = value.isoformat()
        elif isinstance(value, date):
            # YYYY-MM-DD í˜•ì‹
            converted_data[key] = value.isoformat()
        elif isinstance(value, time):
            # HH:MM:SS í˜•ì‹
            converted_data[key] = value.isoformat()
        elif isinstance(value, timedelta):
            # ì´ ì´ˆ ë‹¨ìœ„ë¡œ ë³€í™˜
            converted_data[key] = int(value.total_seconds())
        else:
            converted_data[key] = str(value)
    
    print("\nğŸ”„ ë³€í™˜ëœ ë°ì´í„°:")
    json_result = json.dumps(converted_data, ensure_ascii=False, indent=2)
    print(json_result)
    
    return converted_data

datetime_converted = datetime_json_serialization()
```

### ğŸŒ íƒ€ì„ì¡´ ì²˜ë¦¬

```python
def timezone_aware_serialization():
    """íƒ€ì„ì¡´ì„ ê³ ë ¤í•œ ë‚ ì§œ/ì‹œê°„ ì§ë ¬í™”"""
    
    # ğŸŒ ë‹¤ì–‘í•œ íƒ€ì„ì¡´ì˜ í˜„ì¬ ì‹œê°„
    timezones = {
        'UTC': pytz.UTC,
        'Seoul': pytz.timezone('Asia/Seoul'),
        'Tokyo': pytz.timezone('Asia/Tokyo'),
        'New_York': pytz.timezone('America/New_York'),
        'London': pytz.timezone('Europe/London')
    }
    
    base_time = datetime(2024, 6, 15, 12, 0, 0)  # ì •ì˜¤
    
    timezone_data = {}
    for name, tz in timezones.items():
        localized_time = tz.localize(base_time) if tz != pytz.UTC else base_time.replace(tzinfo=pytz.UTC)
        timezone_data[name] = {
            'datetime': localized_time.isoformat(),
            'timestamp': int(localized_time.timestamp()),
            'readable': localized_time.strftime('%Y-%m-%d %H:%M:%S %Z')
        }
    
    print("ğŸŒ íƒ€ì„ì¡´ë³„ ì‹œê°„ ë°ì´í„°:")
    json_result = json.dumps(timezone_data, ensure_ascii=False, indent=2)
    print(json_result)
    
    # JavaScriptì—ì„œ ì‚¬ìš©í•˜ê¸° ì¢‹ì€ í˜•ì‹
    js_friendly = {
        'timestamps': [data['timestamp'] for data in timezone_data.values()],
        'labels': list(timezone_data.keys()),
        'iso_strings': [data['datetime'] for data in timezone_data.values()]
    }
    
    print("\nğŸŒ JavaScript ì¹œí™”ì  í˜•ì‹:")
    js_json = json.dumps(js_friendly, ensure_ascii=False, indent=2)
    print(js_json)
    
    return timezone_data, js_friendly

tz_data, js_data = timezone_aware_serialization()
```

---

## í•œê¸€ ë° ìœ ë‹ˆì½”ë“œ ì²˜ë¦¬

### ğŸ”¤ í•œê¸€ ì§ë ¬í™” ë¬¸ì œì™€ í•´ê²°ì±…

```python
def korean_unicode_handling():
    """í•œê¸€ ë° ìœ ë‹ˆì½”ë“œ ë¬¸ì ì²˜ë¦¬"""
    
    # ğŸ‡°ğŸ‡· í•œê¸€ì´ í¬í•¨ëœ ë°ì´í„°
    korean_data = {
        'product_name': 'í”„ë¦¬ë¯¸ì—„ ê¹€ì¹˜ëƒ‰ì¥ê³ ',
        'description': '100% êµ­ì‚° ë°°ì¶”ë¡œ ë§Œë“  í”„ë¦¬ë¯¸ì—„ ê¹€ì¹˜ë¥¼ ë³´ê´€í•˜ëŠ” ëƒ‰ì¥ê³ ',
        'categories': ['ê°€ì „ì œí’ˆ', 'ì£¼ë°©ìš©í’ˆ', 'ëƒ‰ì¥ê³ '],
        'reviews': [
            {'user': 'ê¹€ê³ ê°', 'rating': 5, 'comment': 'ì •ë§ ì¢‹ì•„ìš”! ğŸ‘'},
            {'user': 'ë°•êµ¬ë§¤ì', 'rating': 4, 'comment': 'ê°€ì„±ë¹„ ìµœê³  ğŸŒŸ'},
            {'user': 'ì´ì‚¬ìš©ì', 'rating': 5, 'comment': 'ê°•ë ¥ ì¶”ì²œí•©ë‹ˆë‹¤! ğŸ’¯'}
        ],
        'specs': {
            'ìš©ëŸ‰': '500L',
            'ìƒ‰ìƒ': 'í™”ì´íŠ¸/ìŠ¤í…Œì¸ë¦¬ìŠ¤',
            'ì—ë„ˆì§€íš¨ìœ¨': '1ë“±ê¸‰ â­â­â­â­â­'
        }
    }
    
    print("ğŸ‡°ğŸ‡· í•œê¸€ ë°ì´í„° ì§ë ¬í™” ë¹„êµ:")
    print("=" * 60)
    
    # âŒ ensure_ascii=True (ê¸°ë³¸ê°’) - í•œê¸€ì´ ìœ ë‹ˆì½”ë“œ ì´ìŠ¤ì¼€ì´í”„ë¡œ ë³€í™˜
    ascii_true = json.dumps(korean_data, ensure_ascii=True, indent=2)
    print("1ï¸âƒ£ ensure_ascii=True (ê¸°ë³¸ê°’):")
    print(ascii_true[:200] + "...")
    print(f"ê¸¸ì´: {len(ascii_true)} ë¬¸ì")
    
    # âœ… ensure_ascii=False - í•œê¸€ì´ ê·¸ëŒ€ë¡œ ìœ ì§€
    ascii_false = json.dumps(korean_data, ensure_ascii=False, indent=2)
    print(f"\n2ï¸âƒ£ ensure_ascii=False:")
    print(ascii_false[:200] + "...")
    print(f"ê¸¸ì´: {len(ascii_false)} ë¬¸ì")
    
    # ğŸ“Š í¬ê¸° ë¹„êµ
    print(f"\nğŸ“Š í¬ê¸° ë¹„êµ:")
    print(f"  ASCII True:  {len(ascii_true):,} ë¬¸ì")
    print(f"  ASCII False: {len(ascii_false):,} ë¬¸ì")
    print(f"  ì°¨ì´: {len(ascii_true) - len(ascii_false):,} ë¬¸ì ({((len(ascii_true) - len(ascii_false)) / len(ascii_false) * 100):.1f}% ì¦ê°€)")
    
    return korean_data, ascii_false

korean_data, korean_json = korean_unicode_handling()
```

### ğŸŒ ë‹¤êµ­ì–´ ì§€ì›

```python
def multilingual_json_handling():
    """ë‹¤êµ­ì–´ ë°ì´í„° JSON ì§ë ¬í™”"""
    
    # ğŸŒ ë‹¤êµ­ì–´ ë°ì´í„°
    multilingual_data = {
        'product_id': 'GLOBAL_001',
        'translations': {
            'ko': {
                'name': 'ê¸€ë¡œë²Œ ìŠ¤ë§ˆíŠ¸í°',
                'description': 'ìµœì‹  ê¸°ìˆ ì´ ì§‘ì•½ëœ í”„ë¦¬ë¯¸ì—„ ìŠ¤ë§ˆíŠ¸í°',
                'features': ['ê³ ì„±ëŠ¥ í”„ë¡œì„¸ì„œ', 'ë›°ì–´ë‚œ ì¹´ë©”ë¼', 'ê¸´ ë°°í„°ë¦¬ ìˆ˜ëª…']
            },
            'en': {
                'name': 'Global Smartphone',
                'description': 'Premium smartphone with cutting-edge technology',
                'features': ['High-performance processor', 'Excellent camera', 'Long battery life']
            },
            'ja': {
                'name': 'ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³',
                'description': 'æœ€æ–°æŠ€è¡“ã‚’æ­è¼‰ã—ãŸãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³',
                'features': ['é«˜æ€§èƒ½ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼', 'å„ªç§€ãªã‚«ãƒ¡ãƒ©', 'é•·æ™‚é–“ãƒãƒƒãƒ†ãƒªãƒ¼']
            },
            'zh': {
                'name': 'å…¨çƒæ™ºèƒ½æ‰‹æœº',
                'description': 'é‡‡ç”¨å°–ç«¯æŠ€æœ¯çš„é«˜ç«¯æ™ºèƒ½æ‰‹æœº',
                'features': ['é«˜æ€§èƒ½å¤„ç†å™¨', 'å“è¶Šç›¸æœº', 'é•¿ç»­èˆªç”µæ± ']
            },
            'ar': {
                'name': 'Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ',
                'description': 'Ù‡Ø§ØªÙ Ø°ÙƒÙŠ Ù…ØªÙ…ÙŠØ² Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª',
                'features': ['Ù…Ø¹Ø§Ù„Ø¬ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡', 'ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ù…ØªØ§Ø²Ø©', 'Ø¨Ø·Ø§Ø±ÙŠØ© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰']
            }
        },
        'emoji_features': ['ğŸ“±', 'ğŸ“¸', 'ğŸ”‹', 'âš¡', 'ğŸŒŸ'],
        'special_chars': 'Î±Î²Î³Î´Îµ Ã±Ã¡Ã©Ã­Ã³Ãº â¤ï¸ğŸ”¥ğŸ’¯'
    }
    
    # âœ… ë‹¤êµ­ì–´ JSON ì§ë ¬í™”
    multilingual_json = json.dumps(
        multilingual_data,
        ensure_ascii=False,
        indent=2
    )
    
    print("ğŸŒ ë‹¤êµ­ì–´ JSON ì§ë ¬í™”:")
    print(multilingual_json)
    
    # ğŸ“ UTF-8 íŒŒì¼ë¡œ ì €ì¥
    with open('multilingual_data.json', 'w', encoding='utf-8') as f:
        json.dump(multilingual_data, f, ensure_ascii=False, indent=2)
    
    print(f"\nğŸ’¾ íŒŒì¼ ì €ì¥ ì™„ë£Œ: multilingual_data.json")
    
    return multilingual_data

multilingual = multilingual_json_handling()
```

---

## ECharts ì—°ë™ ìµœì í™”

### ğŸ“Š ECharts ë°ì´í„° í˜•ì‹ ìµœì í™”

```python
def echarts_optimized_serialization():
    """EChartsì— ìµœì í™”ëœ JSON ì§ë ¬í™”"""
    
    # ğŸ“ˆ ì°¨íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
    months = ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”']
    sales_2023 = [1200, 1500, 1800, 1600, 2100, 2400]
    sales_2024 = [1400, 1700, 2000, 1800, 2300, 2600]
    categories = ['ì˜¨ë¼ì¸', 'ì˜¤í”„ë¼ì¸', 'ëª¨ë°”ì¼', 'ì „í™”ì£¼ë¬¸']
    category_values = [35, 25, 30, 10]
    
    # ğŸ¯ ë°©ë²• 1: ê°œë³„ ë°ì´í„° ì§ë ¬í™” (ê¶Œì¥)
    individual_json = {
        'months': json.dumps(months, ensure_ascii=False),
        'sales_2023': json.dumps(sales_2023),
        'sales_2024': json.dumps(sales_2024),
        'categories': json.dumps(categories, ensure_ascii=False),
        'category_values': json.dumps(category_values)
    }
    
    print("ğŸ¯ ë°©ë²• 1: ê°œë³„ ì§ë ¬í™” (ê¶Œì¥)")
    for key, value in individual_json.items():
        print(f"  {key}: {value}")
    
    # ğŸ”„ ë°©ë²• 2: ì „ì²´ ë°ì´í„° í•œë²ˆì— ì§ë ¬í™”
    all_data = {
        'line_chart': {
            'months': months,
            'sales_2023': sales_2023,
            'sales_2024': sales_2024
        },
        'pie_chart': {
            'categories': categories,
            'values': category_values
        }
    }
    
    all_json = json.dumps(all_data, ensure_ascii=False)
    print(f"\nğŸ”„ ë°©ë²• 2: ì „ì²´ ì§ë ¬í™”")
    print(f"  all_data: {all_json}")
    
    # ğŸ“ í¬ê¸° ë¹„êµ
    individual_size = sum(len(v) for v in individual_json.values())
    all_size = len(all_json)
    
    print(f"\nğŸ“ í¬ê¸° ë¹„êµ:")
    print(f"  ê°œë³„ ì§ë ¬í™”: {individual_size} ë¬¸ì")
    print(f"  ì „ì²´ ì§ë ¬í™”: {all_size} ë¬¸ì")
    print(f"  ì°¨ì´: {all_size - individual_size} ë¬¸ì")
    
    return individual_json, all_data

individual, all_data = echarts_optimized_serialization()
```

### ğŸš€ ëŒ€ìš©ëŸ‰ ì°¨íŠ¸ ë°ì´í„° ìµœì í™”

```python
def large_chart_data_optimization():
    """ëŒ€ìš©ëŸ‰ ì°¨íŠ¸ ë°ì´í„° ìµœì í™”"""
    
    # ğŸ“Š ëŒ€ìš©ëŸ‰ ë°ì´í„° ì‹œë®¬ë ˆì´ì…˜ (1ë…„ì¹˜ ì¼ë³„ ë°ì´í„°)
    dates = pd.date_range('2024-01-01', '2024-12-31', freq='D')
    large_data = pd.DataFrame({
        'date': dates,
        'value1': np.random.randint(100, 1000, len(dates)),
        'value2': np.random.randint(50, 500, len(dates)),
        'value3': np.random.randint(200, 800, len(dates))
    })
    
    print(f"ğŸ“Š ì›ë³¸ ë°ì´í„° í¬ê¸°: {len(large_data):,}í–‰")
    
    # ğŸ¯ ìµœì í™” ë°©ë²• 1: ë°ì´í„° ìƒ˜í”Œë§
    def sample_data(df, max_points=100):
        """ë°ì´í„°ë¥¼ ê· ë“±í•˜ê²Œ ìƒ˜í”Œë§"""
        if len(df) <= max_points:
            return df
        
        step = len(df) // max_points
        return df.iloc[::step].copy()
    
    sampled_data = sample_data(large_data, 50)
    print(f"ğŸ¯ ìƒ˜í”Œë§ í›„: {len(sampled_data):,}í–‰")
    
    # ğŸ¯ ìµœì í™” ë°©ë²• 2: ì§‘ê³„
    def aggregate_by_month(df):
        """ì›”ë³„ë¡œ ì§‘ê³„"""
        df_copy = df.copy()
        df_copy['month'] = df_copy['date'].dt.to_period('M')
        
        monthly = df_copy.groupby('month').agg({
            'value1': 'mean',
            'value2': 'mean',
            'value3': 'mean'
        }).round(0)
        
        monthly.index = monthly.index.astype(str)
        return monthly.reset_index()
    
    monthly_data = aggregate_by_month(large_data)
    print(f"ğŸ¯ ì›”ë³„ ì§‘ê³„ í›„: {len(monthly_data):,}í–‰")
    
    # ğŸ“¤ JSON ì§ë ¬í™” ë° í¬ê¸° ë¹„êµ
    serialization_results = {}
    
    # ì›ë³¸ ë°ì´í„°
    original_json = json.dumps(large_data.to_dict('records'), default=str)
    serialization_results['original'] = len(original_json)
    
    # ìƒ˜í”Œë§ëœ ë°ì´í„°
    sampled_json = json.dumps(sampled_data.to_dict('records'), default=str)
    serialization_results['sampled'] = len(sampled_json)
    
    # ì§‘ê³„ëœ ë°ì´í„°
    monthly_json = json.dumps(monthly_data.to_dict('records'))
    serialization_results['monthly'] = len(monthly_json)
    
    print("\nğŸ“ JSON í¬ê¸° ë¹„êµ:")
    for method, size in serialization_results.items():
        print(f"  {method:8}: {size:,} ë¬¸ì ({size/1024:.1f} KB)")
    
    # EChartsìš© ìµœì¢… ë°ì´í„°
    echarts_data = {
        'months': monthly_data['month'].tolist(),
        'value1': monthly_data['value1'].astype(int).tolist(),
        'value2': monthly_data['value2'].astype(int).tolist(),
        'value3': monthly_data['value3'].astype(int).tolist()
    }
    
    echarts_json = {
        'months_json': json.dumps(echarts_data['months'], ensure_ascii=False),
        'value1_json': json.dumps(echarts_data['value1']),
        'value2_json': json.dumps(echarts_data['value2']),
        'value3_json': json.dumps(echarts_data['value3'])
    }
    
    return echarts_json, serialization_results

echarts_optimized, size_comparison = large_chart_data_optimization()
```

---

## ì„±ëŠ¥ ìµœì í™” ê¸°ë²•

### âš¡ JSON ì§ë ¬í™” ì„±ëŠ¥ ë¹„êµ

```python
import time
import ujson  # pip install ujson (ì˜µì…˜)
import orjson  # pip install orjson (ì˜µì…˜)

def json_performance_comparison():
    """ë‹¤ì–‘í•œ JSON ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„±ëŠ¥ ë¹„êµ"""
    
    # ğŸ“Š í…ŒìŠ¤íŠ¸ìš© ëŒ€ìš©ëŸ‰ ë°ì´í„° ìƒì„±
    test_data = {
        'users': [
            {
                'id': i,
                'name': f'ì‚¬ìš©ì{i}',
                'email': f'user{i}@example.com',
                'scores': [np.random.randint(0, 100) for _ in range(10)],
                'created_at': datetime.now().isoformat(),
                'metadata': {
                    'login_count': np.random.randint(1, 1000),
                    'last_ip': f'192.168.1.{i % 255}',
                    'preferences': {
                        'theme': 'dark' if i % 2 else 'light',
                        'language': 'ko',
                        'notifications': True
                    }
                }
            }
            for i in range(10000)  # 10,000ê°œ ì‚¬ìš©ì
        ]
    }
    
    print(f"ğŸ“Š í…ŒìŠ¤íŠ¸ ë°ì´í„° í¬ê¸°: {len(test_data['users']):,}ê°œ ë ˆì½”ë“œ")
    
    # ğŸƒâ€â™‚ï¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜
    def benchmark_serialization(library_name, serialize_func, data):
        start_time = time.time()
        try:
            result = serialize_func(data)
            end_time = time.time()
            return {
                'library': library_name,
                'time': end_time - start_time,
                'size': len(result) if isinstance(result, (str, bytes)) else 0,
                'success': True
            }
        except Exception as e:
            return {
                'library': library_name,
                'time': float('inf'),
                'size': 0,
                'success': False,
                'error': str(e)
            }
    
    # ğŸ“‹ í…ŒìŠ¤íŠ¸í•  ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤
    test_cases = [
        ('json (ê¸°ë³¸)', lambda data: json.dumps(data, ensure_ascii=False)),
        ('json (compact)', lambda data: json.dumps(data, ensure_ascii=False, separators=(',', ':'))),
    ]
    
    # ujsonì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸
    try:
        import ujson
        test_cases.append(('ujson', lambda data: ujson.dumps(data, ensure_ascii=False)))
    except ImportError:
        print("âš ï¸ ujsonì´ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ (pip install ujson)")
    
    # orjsonì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸
    try:
        import orjson
        test_cases.append(('orjson', lambda data: orjson.dumps(data).decode('utf-8')))
    except ImportError:
        print("âš ï¸ orjsonì´ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ (pip install orjson)")
    
    # ğŸ ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰
    results = []
    for name, func in test_cases:
        print(f"ğŸƒâ€â™‚ï¸ {name} í…ŒìŠ¤íŠ¸ ì¤‘...")
        result = benchmark_serialization(name, func, test_data)
        results.append(result)
    
    # ğŸ“Š ê²°ê³¼ ì¶œë ¥
    print("\nğŸ“Š JSON ì§ë ¬í™” ì„±ëŠ¥ ë¹„êµ:")
    print("=" * 70)
    print(f"{'ë¼ì´ë¸ŒëŸ¬ë¦¬':<15} {'ì‹œê°„(ì´ˆ)':<10} {'í¬ê¸°(MB)':<10} {'ìƒëŒ€ì†ë„':<10}")
    print("-" * 70)
    
    fastest_time = min(r['time'] for r in results if r['success'])
    
    for result in sorted(results, key=lambda x: x['time']):
        if result['success']:
            relative_speed = result['time'] / fastest_time
            size_mb = result['size'] / (1024 * 1024)
            print(f"{result['library']:<15} {result['time']:<10.3f} {size_mb:<10.2f} {relative_speed:<10.2f}x")
        else:
            print(f"{result['library']:<15} {'ERROR':<10} {'N/A':<10} {'N/A':<10}")
    
    return results

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
performance_results = json_performance_comparison()
```

### ğŸ—œï¸ ì••ì¶•ì„ í™œìš©í•œ ìµœì í™”

```python
import gzip
import base64

def compression_optimization():
    """ì••ì¶•ì„ í™œìš©í•œ JSON ë°ì´í„° ìµœì í™”"""
    
    # ğŸ“Š ë°˜ë³µì ì¸ íŒ¨í„´ì´ ë§ì€ ë°ì´í„° (ì••ì¶• íš¨ê³¼ ì¢‹ìŒ)
    repetitive_data = {
        'products': [
            {
                'id': i,
                'category': 'ì „ìì œí’ˆ',
                'brand': 'ì‚¼ì„±ì „ì',
                'country': 'ëŒ€í•œë¯¼êµ­',
                'warranty': '2ë…„',
                'shipping': 'ë¬´ë£Œë°°ì†¡',
                'status': 'íŒë§¤ì¤‘',
                'tags': ['ì¸ê¸°ìƒí’ˆ', 'ë² ìŠ¤íŠ¸ì…€ëŸ¬', 'ì¶”ì²œìƒí’ˆ'],
                'specs': {
                    'color': 'ë¸”ë™',
                    'material': 'í”Œë¼ìŠ¤í‹±',
                    'origin': 'í•œêµ­',
                    'certification': 'KCì¸ì¦'
                }
            }
            for i in range(5000)
        ]
    }
    
    # ğŸ“ ì›ë³¸ JSON í¬ê¸°
    original_json = json.dumps(repetitive_data, ensure_ascii=False)
    original_size = len(original_json.encode('utf-8'))
    
    # ğŸ—œï¸ GZIP ì••ì¶•
    compressed_data = gzip.compress(original_json.encode('utf-8'))
    compressed_size = len(compressed_data)
    
    # ğŸ“¦ Base64 ì¸ì½”ë”© (ì›¹ ì „ì†¡ìš©)
    base64_encoded = base64.b64encode(compressed_data).decode('ascii')
    base64_size = len(base64_encoded)
    
    print("ğŸ—œï¸ ì••ì¶• ìµœì í™” ê²°ê³¼:")
    print("=" * 50)
    print(f"ì›ë³¸ JSON:     {original_size:,} ë°”ì´íŠ¸ ({original_size/1024:.1f} KB)")
    print(f"GZIP ì••ì¶•:     {compressed_size:,} ë°”ì´íŠ¸ ({compressed_size/1024:.1f} KB)")
    print(f"Base64 ì¸ì½”ë”©: {base64_size:,} ë°”ì´íŠ¸ ({base64_size/1024:.1f} KB)")
    print(f"ì••ì¶•ìœ¨:        {(1 - compressed_size/original_size)*100:.1f}%")
    print(f"ì „ì²´ ì••ì¶•ìœ¨:   {(1 - base64_size/original_size)*100:.1f}%")
    
    # ğŸ”„ ì••ì¶• í•´ì œ í…ŒìŠ¤íŠ¸
    def decompress_json(base64_data):
        compressed_bytes = base64.b64decode(base64_data)
        decompressed_json = gzip.decompress(compressed_bytes).decode('utf-8')
        return json.loads(decompressed_json)
    
    # ê²€ì¦
    restored_data = decompress_json(base64_encoded)
    is_same = restored_data == repetitive_data
    print(f"ë°ì´í„° ë¬´ê²°ì„±: {'âœ… ì„±ê³µ' if is_same else 'âŒ ì‹¤íŒ¨'}")
    
    return {
        'original_size': original_size,
        'compressed_size': compressed_size,
        'base64_size': base64_size,
        'compression_ratio': compressed_size / original_size,
        'base64_encoded': base64_encoded
    }

compression_result = compression_optimization()
```

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ğŸ”’ JSON ì§ë ¬í™” ë³´ì•ˆ ì´ìŠˆ

```python
def json_security_considerations():
    """JSON ì§ë ¬í™” ì‹œ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­"""
    
    # âš ï¸ ë³´ì•ˆ ìœ„í—˜ ìš”ì†Œë“¤
    print("ğŸ”’ JSON ì§ë ¬í™” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­:")
    print("=" * 50)
    
    # 1. ë¯¼ê°í•œ ì •ë³´ ë…¸ì¶œ ìœ„í—˜
    user_data = {
        'id': 12345,
        'username': 'john_doe',
        'email': 'john@example.com',
        'password_hash': 'hashed_password_here',  # âš ï¸ ë¯¼ê°í•œ ì •ë³´
        'credit_card': '1234-5678-9012-3456',    # âš ï¸ ë¯¼ê°í•œ ì •ë³´
        'ssn': '123-45-6789',                    # âš ï¸ ë¯¼ê°í•œ ì •ë³´
        'profile': {
            'name': 'John Doe',
            'age': 30,
            'city': 'ì„œìš¸'
        }
    }
    
    print("âŒ ìœ„í—˜í•œ ë°©ë²• - ëª¨ë“  ë°ì´í„° ì§ë ¬í™”:")
    dangerous_json = json.dumps(user_data, ensure_ascii=False, indent=2)
    print(dangerous_json)
    
    # âœ… ì•ˆì „í•œ ë°©ë²• - í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì ‘ê·¼
    safe_fields = ['id', 'username', 'email', 'profile']
    safe_data = {key: user_data[key] for key in safe_fields if key in user_data}
    
    print("\nâœ… ì•ˆì „í•œ ë°©ë²• - ì„ íƒì  ì§ë ¬í™”:")
    safe_json = json.dumps(safe_data, ensure_ascii=False, indent=2)
    print(safe_json)
    
    # 2. ë°ì´í„° í¬ê¸° ì œí•œ
    def safe_json_serialize(data, max_size=1024*1024):  # 1MB ì œí•œ
        """ì•ˆì „í•œ JSON ì§ë ¬í™” (í¬ê¸° ì œí•œ)"""
        try:
            json_string = json.dumps(data, ensure_ascii=False)
            if len(json_string.encode('utf-8')) > max_size:
                raise ValueError(f"JSON í¬ê¸°ê°€ ì œí•œ({max_size:,} ë°”ì´íŠ¸)ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.")
            return json_string
        except (TypeError, ValueError) as e:
            print(f"ì§ë ¬í™” ì‹¤íŒ¨: {e}")
            return None
    
    # 3. ë°ì´í„° ê²€ì¦
    def validate_and_serialize(data):
        """ë°ì´í„° ê²€ì¦ í›„ ì§ë ¬í™”"""
        
        # í—ˆìš©ëœ íƒ€ì…ë§Œ ì§ë ¬í™”
        allowed_types = (str, int, float, bool, list, dict, type(None))
        
        def is_serializable(obj):
            if isinstance(obj, allowed_types):
                if isinstance(obj, dict):
                    return all(isinstance(k, str) and is_serializable(v) for k, v in obj.items())
                elif isinstance(obj, list):
                    return all(is_serializable(item) for item in obj)
                return True
            return False
        
        if not is_serializable(data):
            raise ValueError("ì§ë ¬í™”í•  ìˆ˜ ì—†ëŠ” íƒ€ì…ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.")
        
        return json.dumps(data, ensure_ascii=False)
    
    # í…ŒìŠ¤íŠ¸
    test_data = {
        'safe_string': 'ì•ˆì „í•œ ë¬¸ìì—´',
        'safe_number': 42,
        'safe_list': [1, 2, '3'],
        'safe_dict': {'nested': 'value'}
    }
    
    try:
        validated_json = validate_and_serialize(test_data)
        print(f"\nâœ… ê²€ì¦ëœ JSON: {validated_json}")
    except ValueError as e:
        print(f"âŒ ê²€ì¦ ì‹¤íŒ¨: {e}")

json_security_considerations()
```

### ğŸ›¡ï¸ Djangoì—ì„œì˜ ì•ˆì „í•œ JSON ì‘ë‹µ

```python
# Django views.pyì—ì„œì˜ ì•ˆì „í•œ JSON ì§ë ¬í™”
from django.http import JsonResponse
from django.core.serializers import serialize
from django.core.exceptions import ValidationError

class SafeJSONEncoder(json.JSONEncoder):
    """ì•ˆì „í•œ JSON ì¸ì½”ë”"""
    
    def default(self, obj):
        # í—ˆìš©ë˜ì§€ ì•ŠëŠ” íƒ€ì…ë“¤ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
        if hasattr(obj, '__dict__'):
            # ê°ì²´ì˜ __dict__ì—ì„œ ë¯¼ê°í•œ í•„ë“œ ì œì™¸
            safe_dict = {}
            exclude_fields = {'password', 'secret', 'key', 'token', 'hash'}
            
            for key, value in obj.__dict__.items():
                if not any(exclude in key.lower() for exclude in exclude_fields):
                    safe_dict[key] = value
            
            return safe_dict
        
        return super().default(obj)

def safe_json_response(request):
    """ì•ˆì „í•œ JSON ì‘ë‹µ ì˜ˆì œ"""
    
    try:
        # ë°ì´í„° ì¤€ë¹„
        response_data = {
            'status': 'success',
            'data': {
                'products': Product.objects.values('id', 'name', 'price')[:10]
            },
            'timestamp': datetime.now().isoformat()
        }
        
        # ì•ˆì „í•œ JSON ì‘ë‹µ
        return JsonResponse(
            response_data,
            encoder=SafeJSONEncoder,
            json_dumps_params={
                'ensure_ascii': False,
                'separators': (',', ':')  # ì»´íŒ©íŠ¸í•œ ì¶œë ¥
            }
        )
        
    except Exception as e:
        # ì—ëŸ¬ ì •ë³´ëŠ” ìµœì†Œí•œìœ¼ë¡œ
        return JsonResponse({
            'status': 'error',
            'message': 'ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'
        }, status=500)
```

---

## ì‹¤ì „ ì˜ˆì œ ëª¨ìŒ

### ğŸ¯ Django + ECharts ì™„ì „ ì—°ë™

```python
# views.py - ì™„ì „í•œ ëŒ€ì‹œë³´ë“œ ì˜ˆì œ
def dashboard_view(request):
    """ECharts ëŒ€ì‹œë³´ë“œìš© JSON ë°ì´í„° ì¤€ë¹„"""
    
    # ğŸ“Š ì°¨íŠ¸ 1: ì›”ë³„ ë§¤ì¶œ ì¶”ì´
    monthly_sales = get_monthly_sales_data()  # ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜
    
    # ğŸ“Š ì°¨íŠ¸ 2: ì œí’ˆ ì¹´í…Œê³ ë¦¬ë³„ íŒë§¤ëŸ‰
    category_data = get_category_sales_data()
    
    # ğŸ“Š ì°¨íŠ¸ 3: ì§€ì—­ë³„ ë§¤ì¶œ íˆíŠ¸ë§µ
    region_data = get_region_heatmap_data()
    
    # ğŸ“Š ì°¨íŠ¸ 4: ì‹¤ì‹œê°„ ì ‘ì†ì ìˆ˜
    realtime_data = get_realtime_visitors()
    
    # JSON ì§ë ¬í™”
    context = {
        # ì›”ë³„ ë§¤ì¶œ ë¼ì¸ ì°¨íŠ¸
        'monthly_labels_json': json.dumps(
            [item['month'] for item in monthly_sales], 
            ensure_ascii=False
        ),
        'monthly_values_json': json.dumps(
            [float(item['total']) for item in monthly_sales]
        ),
        
        # ì¹´í…Œê³ ë¦¬ íŒŒì´ ì°¨íŠ¸
        'category_data_json': json.dumps([
            {'name': item['category'], 'value': item['count']}
            for item in category_data
        ], ensure_ascii=False),
        
        # ì§€ì—­ íˆíŠ¸ë§µ
        'region_heatmap_json': json.dumps([
            [item['x'], item['y'], item['value']]
            for item in region_data
        ]),
        
        # ì‹¤ì‹œê°„ ë°ì´í„°
        'realtime_visitors_json': json.dumps(realtime_data),
        
        # ëŒ€ì‹œë³´ë“œ ë©”íƒ€ë°ì´í„°
        'dashboard_meta_json': json.dumps({
            'last_updated': datetime.now().isoformat(),
            'total_charts': 4,
            'data_range': '2024-01-01 ~ 2024-12-31'
        }, ensure_ascii=False)
    }
    
    return render(request, 'dashboard.html', context)

# í—¬í¼ í•¨ìˆ˜ë“¤
def get_monthly_sales_data():
    """ì›”ë³„ ë§¤ì¶œ ë°ì´í„° ì¡°íšŒ"""
    from django.db.models import Sum
    from django.db.models.functions import TruncMonth
    
    return list(
        Sale.objects
        .annotate(month=TruncMonth('sale_date'))
        .values('month')
        .annotate(total=Sum('total_amount'))
        .order_by('month')
        .values('month__strftime:%Y-%m', 'total')
    )

def get_category_sales_data():
    """ì¹´í…Œê³ ë¦¬ë³„ íŒë§¤ ë°ì´í„°"""
    from django.db.models import Count
    
    return list(
        Product.objects
        .values('category')
        .annotate(count=Count('id'))
        .order_by('-count')
    )

def get_region_heatmap_data():
    """ì§€ì—­ë³„ íˆíŠ¸ë§µ ë°ì´í„°"""
    regions = ['ì„œìš¸', 'ë¶€ì‚°', 'ëŒ€êµ¬', 'ì¸ì²œ', 'ê´‘ì£¼']
    months = list(range(12))
    
    heatmap_data = []
    for i, region in enumerate(regions):
        for j, month in enumerate(months):
            # ì‹¤ì œë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒ
            value = Sale.objects.filter(
                region=region,
                sale_date__month=month+1
            ).aggregate(total=Sum('total_amount'))['total'] or 0
            
            heatmap_data.append({
                'x': j,  # ì›” ì¸ë±ìŠ¤
                'y': i,  # ì§€ì—­ ì¸ë±ìŠ¤  
                'value': float(value)
            })
    
    return heatmap_data

def get_realtime_visitors():
    """ì‹¤ì‹œê°„ ì ‘ì†ì ë°ì´í„° (Redisë‚˜ ìºì‹œì—ì„œ ì¡°íšŒ)"""
    from django.core.cache import cache
    
    return cache.get('realtime_visitors', 0)
```

### ğŸŒ í…œí”Œë¦¿ì—ì„œ JSON ë°ì´í„° ì‚¬ìš©

```html
<!-- dashboard.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid py-4">
        <h1 class="mb-4">ğŸ“Š ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ</h1>
        
        <!-- ì°¨íŠ¸ ê·¸ë¦¬ë“œ -->
        <div class="row g-4">
            <!-- ì›”ë³„ ë§¤ì¶œ ì¶”ì´ -->
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5>ğŸ“ˆ ì›”ë³„ ë§¤ì¶œ ì¶”ì´</h5>
                    </div>
                    <div class="card-body">
                        <div id="monthlySalesChart" style="height: 300px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- ì¹´í…Œê³ ë¦¬ë³„ íŒë§¤ëŸ‰ -->
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5>ğŸ¥§ ì¹´í…Œê³ ë¦¬ë³„ íŒë§¤ëŸ‰</h5>
                    </div>
                    <div class="card-body">
                        <div id="categoryPieChart" style="height: 300px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- ì§€ì—­ë³„ ë§¤ì¶œ íˆíŠ¸ë§µ -->
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <h5>ğŸ—ºï¸ ì§€ì—­ë³„ ë§¤ì¶œ íˆíŠ¸ë§µ</h5>
                    </div>
                    <div class="card-body">
                        <div id="regionHeatmap" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- ì‹¤ì‹œê°„ ì§€í‘œ -->
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <h5>âš¡ ì‹¤ì‹œê°„ ì§€í‘œ</h5>
                    </div>
                    <div class="card-body">
                        <div class="text-center">
                            <h2 class="text-primary" id="realtimeVisitors">
                                {{ realtime_visitors_json|safe }}
                            </h2>
                            <p>í˜„ì¬ ì ‘ì†ì</p>
                        </div>
                        
                        <div id="gaugeChart" style="height: 200px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ğŸ¯ Djangoì—ì„œ ì „ë‹¬ë°›ì€ JSON ë°ì´í„°
        const monthlyLabels = {{ monthly_labels_json|safe }};
        const monthlyValues = {{ monthly_values_json|safe }};
        const categoryData = {{ category_data_json|safe }};
        const regionHeatmapData = {{ region_heatmap_json|safe }};
        const realtimeVisitors = {{ realtime_visitors_json|safe }};
        const dashboardMeta = {{ dashboard_meta_json|safe }};
        
        // ğŸ¨ ì°¨íŠ¸ ìƒ‰ìƒ íŒ”ë ˆíŠ¸
        const colorPalette = ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de'];
        
        // ğŸ“ˆ ì›”ë³„ ë§¤ì¶œ ë¼ì¸ ì°¨íŠ¸
        const monthlySalesChart = echarts.init(document.getElementById('monthlySalesChart'));
        const monthlySalesOption = {
            tooltip: {
                trigger: 'axis',
                formatter: function(params) {
                    return `${params[0].name}<br/>ë§¤ì¶œ: ${params[0].value.toLocaleString()}ì›`;
                }
            },
            xAxis: {
                type: 'category',
                data: monthlyLabels,
                axisLabel: { rotate: 45 }
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter: function(value) {
                        return (value / 1000000) + 'M';
                    }
                }
            },
            series: [{
                name: 'ë§¤ì¶œ',
                type: 'line',
                data: monthlyValues,
                smooth: true,
                lineStyle: { width: 3, color: colorPalette[0] },
                areaStyle: {
                    color: {
                        type: 'linear',
                        x: 0, y: 0, x2: 0, y2: 1,
                        colorStops: [
                            {offset: 0, color: colorPalette[0] + '80'},
                            {offset: 1, color: colorPalette[0] + '10'}
                        ]
                    }
                }
            }]
        };
        monthlySalesChart.setOption(monthlySalesOption);
        
        // ğŸ¥§ ì¹´í…Œê³ ë¦¬ íŒŒì´ ì°¨íŠ¸
        const categoryPieChart = echarts.init(document.getElementById('categoryPieChart'));
        const categoryPieOption = {
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b}: {c} ({d}%)'
            },
            legend: {
                orient: 'vertical',
                left: 'left'
            },
            series: [{
                name: 'ì¹´í…Œê³ ë¦¬',
                type: 'pie',
                radius: '50%',
                data: categoryData,
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };
        categoryPieChart.setOption(categoryPieOption);
        
        // ğŸ—ºï¸ ì§€ì—­ë³„ íˆíŠ¸ë§µ
        const regionHeatmap = echarts.init(document.getElementById('regionHeatmap'));
        const regions = ['ì„œìš¸', 'ë¶€ì‚°', 'ëŒ€êµ¬', 'ì¸ì²œ', 'ê´‘ì£¼'];
        const months = ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”', '7ì›”', '8ì›”', '9ì›”', '10ì›”', '11ì›”', '12ì›”'];
        
        const regionHeatmapOption = {
            tooltip: {
                position: 'top',
                formatter: function(params) {
                    return `${months[params.data[0]]} ${regions[params.data[1]]}<br/>ë§¤ì¶œ: ${params.data[2].toLocaleString()}ì›`;
                }
            },
            grid: {
                height: '50%',
                top: '10%'
            },
            xAxis: {
                type: 'category',
                data: months,
                splitArea: { show: true }
            },
            yAxis: {
                type: 'category',
                data: regions,
                splitArea: { show: true }
            },
            visualMap: {
                min: 0,
                max: Math.max(...regionHeatmapData.map(item => item[2])),
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '15%',
                inRange: {
                    color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffcc', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                }
            },
            series: [{
                name: 'ë§¤ì¶œ',
                type: 'heatmap',
                data: regionHeatmapData,
                label: {
                    show: true,
                    formatter: function(params) {
                        return (params.data[2] / 1000000).toFixed(1) + 'M';
                    }
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };
        regionHeatmap.setOption(regionHeatmapOption);
        
        // âš¡ ì‹¤ì‹œê°„ ì ‘ì†ì ê²Œì´ì§€ ì°¨íŠ¸
        const gaugeChart = echarts.init(document.getElementById('gaugeChart'));
        const gaugeOption = {
            series: [{
                name: 'ì ‘ì†ì',
                type: 'gauge',
                startAngle: 180,
                endAngle: 0,
                center: ['50%', '75%'],
                radius: '90%',
                min: 0,
                max: 1000,
                splitNumber: 8,
                axisLine: {
                    lineStyle: {
                        width: 6,
                        color: [
                            [0.25, '#7CFFB2'],
                            [0.5, '#58D9F9'],
                            [0.75, '#FDDD60'],
                            [1, '#FF6E76']
                        ]
                    }
                },
                pointer: {
                    icon: 'path://M12.8,0.7l12,40.1H0.7L12.8,0.7z',
                    length: '12%',
                    width: 20,
                    offsetCenter: [0, '-60%'],
                    itemStyle: {
                        color: 'auto'
                    }
                },
                axisTick: {
                    length: 12,
                    lineStyle: {
                        color: 'auto',
                        width: 2
                    }
                },
                splitLine: {
                    length: 20,
                    lineStyle: {
                        color: 'auto',
                        width: 5
                    }
                },
                axisLabel: {
                    color: '#464646',
                    fontSize: 20,
                    distance: -60,
                    formatter: function(value) {
                        if (value === 1000) {
                            return '1K';
                        } else if (value === 750) {
                            return '750';
                        } else if (value === 500) {
                            return '500';
                        } else if (value === 250) {
                            return '250';
                        } else if (value === 0) {
                            return '0';
                        }
                        return '';
                    }
                },
                title: {
                    offsetCenter: [0, '-10%'],
                    fontSize: 20
                },
                detail: {
                    fontSize: 30,
                    offsetCenter: [0, '-35%'],
                    valueAnimation: true,
                    formatter: function(value) {
                        return Math.round(value) + '';
                    },
                    color: 'auto'
                },
                data: [{
                    value: realtimeVisitors,
                    name: 'ì‹¤ì‹œê°„ ì ‘ì†ì'
                }]
            }]
        };
        gaugeChart.setOption(gaugeOption);
        
        // ğŸ“± ë°˜ì‘í˜• ì²˜ë¦¬
        function resizeCharts() {
            monthlySalesChart.resize();
            categoryPieChart.resize();
            regionHeatmap.resize();
            gaugeChart.resize();
        }
        
        window.addEventListener('resize', resizeCharts);
        
        // ğŸ”„ ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ (5ì´ˆë§ˆë‹¤)
        function updateRealtimeData() {
            fetch('/api/realtime-visitors/')
                .then(response => response.json())
                .then(data => {
                    // ì ‘ì†ì ìˆ˜ ì—…ë°ì´íŠ¸
                    document.getElementById('realtimeVisitors').textContent = data.visitors;
                    
                    // ê²Œì´ì§€ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
                    gaugeChart.setOption({
                        series: [{
                            data: [{
                                value: data.visitors,
                                name: 'ì‹¤ì‹œê°„ ì ‘ì†ì'
                            }]
                        }]
                    });
                })
                .catch(error => console.error('ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error));
        }
        
        // 5ì´ˆë§ˆë‹¤ ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸
        setInterval(updateRealtimeData, 5000);
        
        // ğŸ“Š ëŒ€ì‹œë³´ë“œ ë©”íƒ€ë°ì´í„° í‘œì‹œ
        console.log('ëŒ€ì‹œë³´ë“œ ì •ë³´:', dashboardMeta);
        console.log('ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:', dashboardMeta.last_updated);
    </script>
</body>
</html>
```

### ğŸ”„ API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„

```python
# API views.py
from django.http import JsonResponse
from django.views.decorators.http import require_http_methods
from django.views.decorators.csrf import csrf_exempt
from django.core.cache import cache
import json

@require_http_methods(["GET"])
def realtime_visitors_api(request):
    """ì‹¤ì‹œê°„ ì ‘ì†ì ìˆ˜ API"""
    try:
        # Redisë‚˜ ìºì‹œì—ì„œ ì‹¤ì‹œê°„ ë°ì´í„° ì¡°íšŒ
        visitors = cache.get('realtime_visitors', 0)
        
        # ì‹œë®¬ë ˆì´ì…˜: ëœë¤í•˜ê²Œ ë³€í™”
        import random
        visitors += random.randint(-10, 20)
        visitors = max(0, min(1000, visitors))  # 0-1000 ë²”ìœ„ë¡œ ì œí•œ
        
        # ìºì‹œ ì—…ë°ì´íŠ¸
        cache.set('realtime_visitors', visitors, timeout=10)
        
        return JsonResponse({
            'visitors': visitors,
            'timestamp': datetime.now().isoformat(),
            'status': 'success'
        })
        
    except Exception as e:
        return JsonResponse({
            'error': 'ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
            'status': 'error'
        }, status=500)

@csrf_exempt
@require_http_methods(["POST"])
def chart_data_export_api(request):
    """ì°¨íŠ¸ ë°ì´í„° ë‚´ë³´ë‚´ê¸° API"""
    try:
        # ìš”ì²­ ë°ì´í„° íŒŒì‹±
        request_data = json.loads(request.body)
        chart_type = request_data.get('chart_type')
        date_range = request_data.get('date_range', {})
        
        # ì°¨íŠ¸ íƒ€ì…ë³„ ë°ì´í„° ì¤€ë¹„
        if chart_type == 'monthly_sales':
            data = get_monthly_sales_data()
            filename = 'monthly_sales.json'
        elif chart_type == 'category_sales':
            data = get_category_sales_data() 
            filename = 'category_sales.json'
        elif chart_type == 'region_heatmap':
            data = get_region_heatmap_data()
            filename = 'region_heatmap.json'
        else:
            return JsonResponse({
                'error': 'ì§€ì›í•˜ì§€ ì•ŠëŠ” ì°¨íŠ¸ íƒ€ì…ì…ë‹ˆë‹¤.',
                'status': 'error'
            }, status=400)
        
        # JSON ì‘ë‹µ
        response_data = {
            'chart_type': chart_type,
            'data': data,
            'generated_at': datetime.now().isoformat(),
            'filename': filename,
            'record_count': len(data)
        }
        
        return JsonResponse(
            response_data,
            json_dumps_params={
                'ensure_ascii': False,
                'indent': 2
            }
        )
        
    except json.JSONDecodeError:
        return JsonResponse({
            'error': 'ì˜ëª»ëœ JSON í˜•ì‹ì…ë‹ˆë‹¤.',
            'status': 'error'
        }, status=400)
    except Exception as e:
        return JsonResponse({
            'error': f'ë°ì´í„° ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨: {str(e)}',
            'status': 'error'
        }, status=500)
```

### ğŸ“± ëª¨ë°”ì¼ ìµœì í™” JSON

```python
def mobile_optimized_json(request):
    """ëª¨ë°”ì¼ìš© ìµœì í™”ëœ JSON ì‘ë‹µ"""
    
    # ğŸ“± ëª¨ë°”ì¼ì—ì„œëŠ” ë°ì´í„° ì–‘ì„ ì¤„ì„
    user_agent = request.META.get('HTTP_USER_AGENT', '').lower()
    is_mobile = any(mobile in user_agent for mobile in ['mobile', 'android', 'iphone'])
    
    if is_mobile:
        # ëª¨ë°”ì¼ìš©: ë°ì´í„° í¬ì¸íŠ¸ ì œí•œ
        monthly_data = get_monthly_sales_data()[:6]  # ìµœê·¼ 6ê°œì›”ë§Œ
        category_data = get_category_sales_data()[:5]  # ìƒìœ„ 5ê°œ ì¹´í…Œê³ ë¦¬ë§Œ
        
        # ì••ì¶•ëœ ì‘ë‹µ
        context = {
            'monthly_data_json': json.dumps(monthly_data, separators=(',', ':')),
            'category_data_json': json.dumps(category_data, separators=(',', ':')),
            'is_mobile': True,
            'data_compressed': True
        }
    else:
        # ë°ìŠ¤í¬í†±ìš©: ì „ì²´ ë°ì´í„°
        context = {
            'monthly_data_json': json.dumps(get_monthly_sales_data(), ensure_ascii=False, indent=2),
            'category_data_json': json.dumps(get_category_sales_data(), ensure_ascii=False, indent=2),
            'region_data_json': json.dumps(get_region_heatmap_data()),
            'is_mobile': False,
            'data_compressed': False
        }
    
    return JsonResponse(context)
```

---

## ë§ˆë¬´ë¦¬ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì •ë¦¬

### âœ… JSON ì§ë ¬í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

```python
def json_serialization_checklist():
    """JSON ì§ë ¬í™” ì²´í¬ë¦¬ìŠ¤íŠ¸"""
    
    checklist = {
        "ğŸ”§ ê¸°ë³¸ ì„¤ì •": [
            "âœ… ensure_ascii=Falseë¡œ í•œê¸€ ì§€ì›",
            "âœ… indent ì˜µì…˜ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ (ê°œë°œì‹œ)",
            "âœ… separators=(',', ':')ë¡œ ì••ì¶• (ìš´ì˜ì‹œ)",
            "âœ… ì ì ˆí•œ timeout ì„¤ì •"
        ],
        
        "ğŸ›¡ï¸ ë³´ì•ˆ": [
            "âœ… ë¯¼ê°í•œ ì •ë³´ í•„í„°ë§",
            "âœ… ë°ì´í„° í¬ê¸° ì œí•œ",
            "âœ… ì…ë ¥ê°’ ê²€ì¦",
            "âœ… ì—ëŸ¬ ì •ë³´ ìµœì†Œí™”"
        ],
        
        "âš¡ ì„±ëŠ¥": [
            "âœ… ëŒ€ìš©ëŸ‰ ë°ì´í„° ìƒ˜í”Œë§",
            "âœ… ë¶ˆí•„ìš”í•œ ì¤‘ì²© êµ¬ì¡° í‰ë©´í™”",
            "âœ… ì ì ˆí•œ ìºì‹± ì „ëµ",
            "âœ… ì••ì¶• ê³ ë ¤ (gzip)"
        ],
        
        "ğŸ¯ ECharts ì—°ë™": [
            "âœ… ê°œë³„ ë°ì´í„° ì§ë ¬í™”",
            "âœ… JavaScript ì¹œí™”ì  í˜•ì‹",
            "âœ… ì°¨íŠ¸ë³„ ìµœì í™”ëœ êµ¬ì¡°",
            "âœ… ë°˜ì‘í˜• ë°ì´í„° ì¤€ë¹„"
        ],
        
        "ğŸŒ Django íŠ¹í™”": [
            "âœ… |safe í•„í„° ì‚¬ìš©",
            "âœ… Custom Encoder í™œìš©",
            "âœ… ëª¨ë¸ ì§ë ¬í™” ìµœì í™”",
            "âœ… API ì—”ë“œí¬ì¸íŠ¸ í‘œì¤€í™”"
        ]
    }
    
    print("ğŸ“‹ JSON ì§ë ¬í™” ì™„ë²½ ì²´í¬ë¦¬ìŠ¤íŠ¸")
    print("=" * 50)
    
    for category, items in checklist.items():
        print(f"\n{category}")
        for item in items:
            print(f"  {item}")
    
    return checklist

# ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
final_checklist = json_serialization_checklist()
```

### ğŸ¯ í•µì‹¬ ìš”ì•½

1. **ğŸ”¤ í•œê¸€ ì²˜ë¦¬**: `ensure_ascii=False` í•„ìˆ˜
2. **ğŸ›¡ï¸ ë³´ì•ˆ**: ë¯¼ê°í•œ ë°ì´í„° í•„í„°ë§ê³¼ í¬ê¸° ì œí•œ
3. **âš¡ ì„±ëŠ¥**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ìµœì í™”ì™€ ì••ì¶• í™œìš©
4. **ğŸ¨ ECharts**: ê°œë³„ ì§ë ¬í™”ë¡œ JavaScript ì¹œí™”ì  êµ¬ì¡°
5. **ğŸ“± ë°˜ì‘í˜•**: ë””ë°”ì´ìŠ¤ë³„ ìµœì í™”ëœ ë°ì´í„° ì œê³µ

### ğŸš€ ë‹¤ìŒ ë‹¨ê³„

ì´ì œ JSON ì§ë ¬í™”ë¥¼ ì™„ë²½í•˜ê²Œ ë§ˆìŠ¤í„°í–ˆìœ¼ë‹ˆ:
- **20.02.01 ECharts ê°€ì´ë“œ**ì™€ ê²°í•©í•´ì„œ ê³ ê¸‰ ì°¨íŠ¸ êµ¬í˜„
- **ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸** ì‹œìŠ¤í…œ êµ¬ì¶•
- **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬** ìµœì í™” ê¸°ë²• ì ìš©
- **ëª¨ë°”ì¼ ìµœì í™”** ë° **PWA** ê¸°ëŠ¥ ì¶”ê°€

JSON ì§ë ¬í™”ëŠ” ëª¨ë“  ì›¹ ê°œë°œì˜ ê¸°ì´ˆì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œë¥¼ í†µí•´ Djangoì—ì„œ JavaScriptë¡œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ëª¨ë“  ê¸°ë²•ì„ ë§ˆìŠ¤í„°í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰