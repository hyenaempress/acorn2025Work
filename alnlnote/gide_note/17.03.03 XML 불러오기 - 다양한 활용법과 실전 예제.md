# 17.03.02 XML ë¶ˆëŸ¬ì˜¤ê¸° - ë‹¤ì–‘í•œ í™œìš©ë²•ê³¼ ì‹¤ì „ ì˜ˆì œ

> **ì´ì „ ê°•ì˜ ì—°ê³„**: 17.03.01 XML ì•Œì•„ë³´ê¸° ì›¹ ìŠ¤í¬ë˜í•‘ ê°•ì˜ ë‚´ìš© í™•ì¥  
> **í•µì‹¬ ì½”ë“œ**: `from bs4 import BeautifulSoup` + `with open('my.xml')` í™œìš©  
> **ëª©í‘œ**: XML íŒŒì¼ ë¡œë”©ë¶€í„° ê³ ê¸‰ ë°ì´í„° ì²˜ë¦¬ê¹Œì§€ ì™„ì „ ë§ˆìŠ¤í„°

---

## ğŸ”§ **ê¸°ë³¸ XML ë¶ˆëŸ¬ì˜¤ê¸° ì½”ë“œ ë¦¬ë·°**

### **ì œê³µëœ ê¸°ë³¸ ì½”ë“œ ë¶„ì„**

```python
from bs4 import BeautifulSoup

with open('my.xml', 'r', encoding='utf-8') as f:
    xmlfile = f.read()
    #print(xmlfile)

soup = BeautifulSoup(xmlfile, 'lxml')
print(soup)

itemTag = soup.find_all('item')
print(itemTag)
print(itemTag[1])

print()
nameTag = soup.find_all('name')
```

**âš¡ ì½”ë“œ ê°œì„  í¬ì¸íŠ¸:**
1. **íŒŒì„œ ì„ íƒ**: `'lxml'` â†’ `'xml'` (XML ì „ìš© íŒŒì„œê°€ ë” ì •í™•)
2. **ì˜ˆì™¸ ì²˜ë¦¬**: íŒŒì¼ì´ ì—†ê±°ë‚˜ ì˜ëª»ëœ XMLì¼ ë•Œ ëŒ€ë¹„
3. **ë°ì´í„° êµ¬ì¡° í™•ì¸**: XML êµ¬ì¡°ë¥¼ ë¨¼ì € íŒŒì•… í›„ íŒŒì‹±
4. **ë©”ëª¨ë¦¬ íš¨ìœ¨**: ëŒ€ìš©ëŸ‰ XML ì²˜ë¦¬ ì‹œ ê³ ë ¤ì‚¬í•­

---

## ğŸ¯ **XML ë¶ˆëŸ¬ì˜¤ê¸° ë°©ë²•ë³„ ë¹„êµ**

### **1. BeautifulSoup ë°©ì‹ (ê¸°ë³¸/ê¶Œì¥)**

```python
from bs4 import BeautifulSoup
import pandas as pd

def load_xml_with_beautifulsoup(file_path):
    """BeautifulSoupë¡œ XML ë¶ˆëŸ¬ì˜¤ê¸° - ê°€ì¥ ì‚¬ìš©í•˜ê¸° ì‰¬ì›€"""
    try:
        with open(file_path, 'r', encoding='utf-8') as f:
            content = f.read()
        
        # XML ì „ìš© íŒŒì„œ ì‚¬ìš© (ë” ì •í™•í•¨)
        soup = BeautifulSoup(content, 'xml')
        
        # XML êµ¬ì¡° ë¯¸ë¦¬ í™•ì¸
        print(f"ğŸ” ë£¨íŠ¸ íƒœê·¸: {soup.name}")
        print(f"ğŸ” ì „ì²´ ì•„ì´í…œ ìˆ˜: {len(soup.find_all('item'))}")
        
        return soup
        
    except FileNotFoundError:
        print(f"âŒ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {file_path}")
        return None
    except Exception as e:
        print(f"âŒ XML íŒŒì‹± ì˜¤ë¥˜: {e}")
        return None

# ì‚¬ìš© ì˜ˆì‹œ
soup = load_xml_with_beautifulsoup('my.xml')
if soup:
    items = soup.find_all('item')
    names = soup.find_all('name')
    print(f"âœ… ì„±ê³µ: {len(items)}ê°œ ì•„ì´í…œ, {len(names)}ê°œ ì´ë¦„ íƒœê·¸ ë°œê²¬")
```

### **2. xml.etree.ElementTree ë°©ì‹ (í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬)**

```python
import xml.etree.ElementTree as ET

def load_xml_with_etree(file_path):
    """í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ XML ë¶ˆëŸ¬ì˜¤ê¸° - ë¹ ë¥´ê³  ê°€ë²¼ì›€"""
    try:
        tree = ET.parse(file_path)
        root = tree.getroot()
        
        print(f"ğŸ” ë£¨íŠ¸ íƒœê·¸: {root.tag}")
        print(f"ğŸ” ë£¨íŠ¸ ì†ì„±: {root.attrib}")
        
        # ëª¨ë“  item ìš”ì†Œ ì°¾ê¸°
        items = root.findall('.//item')  # ì „ì²´ íŠ¸ë¦¬ì—ì„œ item ê²€ìƒ‰
        names = root.findall('.//name')  # ì „ì²´ íŠ¸ë¦¬ì—ì„œ name ê²€ìƒ‰
        
        return root, items, names
        
    except ET.ParseError as e:
        print(f"âŒ XML êµ¬ì¡° ì˜¤ë¥˜: {e}")
        return None, [], []
    except Exception as e:
        print(f"âŒ íŒŒì¼ ì½ê¸° ì˜¤ë¥˜: {e}")
        return None, [], []

# ì‚¬ìš© ì˜ˆì‹œ
root, items, names = load_xml_with_etree('my.xml')
if root is not None:
    print(f"âœ… ì„±ê³µ: {len(items)}ê°œ ì•„ì´í…œ, {len(names)}ê°œ ì´ë¦„ ë°œê²¬")
```

### **3. pandas ì§ì ‘ ì½ê¸° ë°©ì‹ (íŠ¹ìˆ˜í•œ ê²½ìš°)**

```python
import pandas as pd

def load_xml_with_pandas(file_path):
    """pandasë¡œ ì§ì ‘ XML ì½ê¸° - í…Œì´ë¸” êµ¬ì¡°ì¼ ë•Œë§Œ ìœ ìš©"""
    try:
        # pandasì˜ read_xmlì€ í…Œì´ë¸” í˜•íƒœì˜ XMLì—ë§Œ ì í•©
        df = pd.read_xml(file_path)
        print(f"âœ… pandasë¡œ ì§ì ‘ ë¡œë“œ ì„±ê³µ: {df.shape}")
        return df
        
    except Exception as e:
        print(f"âŒ pandas ì§ì ‘ ë¡œë“œ ì‹¤íŒ¨: {e}")
        print("ğŸ’¡ ë³µì¡í•œ XML êµ¬ì¡°ëŠ” BeautifulSoup ì‚¬ìš© ê¶Œì¥")
        return None

# í…Œì´ë¸” í˜•íƒœ XMLì—ë§Œ ì‚¬ìš©
df = load_xml_with_pandas('table_format.xml')
```

---

## ğŸŒŸ **ì‹¤ì „ í™œìš© ì˜ˆì œ ëª¨ìŒ**

### **ì˜ˆì œ 1: í•™ìƒ ì„±ì  XML ì²˜ë¦¬**

```python
# sample_students.xml êµ¬ì¡° ì˜ˆì‹œ:
xml_sample = """
<students>
    <student id="1">
        <name>ê¹€ì² ìˆ˜</name>
        <grade>3</grade>
        <subjects>
            <subject name="ìˆ˜í•™">95</subject>
            <subject name="ì˜ì–´">88</subject>
            <subject name="ê³¼í•™">92</subject>
        </subjects>
    </student>
    <student id="2">
        <name>ì´ì˜í¬</name>
        <grade>2</grade>
        <subjects>
            <subject name="ìˆ˜í•™">78</subject>
            <subject name="ì˜ì–´">94</subject>
            <subject name="ê³¼í•™">85</subject>
        </subjects>
    </student>
</students>
"""

def process_student_xml(file_path):
    """í•™ìƒ XML ë°ì´í„°ë¥¼ pandas DataFrameìœ¼ë¡œ ë³€í™˜"""
    with open(file_path, 'r', encoding='utf-8') as f:
        soup = BeautifulSoup(f.read(), 'xml')
    
    students_data = []
    
    for student in soup.find_all('student'):
        student_id = student.get('id')
        name = student.find('name').text
        grade = int(student.find('grade').text)
        
        # ê³¼ëª©ë³„ ì ìˆ˜ ì¶”ì¶œ
        subjects = {}
        for subject in student.find_all('subject'):
            subject_name = subject.get('name')
            score = int(subject.text)
            subjects[subject_name] = score
        
        # í‰ê·  ì ìˆ˜ ê³„ì‚°
        avg_score = sum(subjects.values()) / len(subjects) if subjects else 0
        
        students_data.append({
            'ID': student_id,
            'ì´ë¦„': name,
            'í•™ë…„': grade,
            'ìˆ˜í•™': subjects.get('ìˆ˜í•™', 0),
            'ì˜ì–´': subjects.get('ì˜ì–´', 0),
            'ê³¼í•™': subjects.get('ê³¼í•™', 0),
            'í‰ê· ': round(avg_score, 2)
        })
    
    df = pd.DataFrame(students_data)
    
    # ì¶”ê°€ ë¶„ì„
    print("ğŸ“Š í•™ìƒ ì„±ì  ë¶„ì„ ê²°ê³¼:")
    print(f"   ì´ í•™ìƒ ìˆ˜: {len(df)}")
    print(f"   ì „ì²´ í‰ê· : {df['í‰ê· '].mean():.2f}")
    print(f"   ìµœê³ ì : {df['í‰ê· '].max():.2f}")
    print(f"   ìµœì €ì : {df['í‰ê· '].min():.2f}")
    
    return df

# ì‚¬ìš©
# students_df = process_student_xml('students.xml')
```

### **ì˜ˆì œ 2: RSS í”¼ë“œ XML ì²˜ë¦¬**

```python
def process_rss_feed(file_path):
    """RSS í”¼ë“œ XMLì„ ë‰´ìŠ¤ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë³€í™˜"""
    with open(file_path, 'r', encoding='utf-8') as f:
        soup = BeautifulSoup(f.read(), 'xml')
    
    articles = []
    
    for item in soup.find_all('item'):
        title = item.find('title').text if item.find('title') else 'ì œëª© ì—†ìŒ'
        description = item.find('description').text if item.find('description') else 'ì„¤ëª… ì—†ìŒ'
        link = item.find('link').text if item.find('link') else ''
        pub_date = item.find('pubDate').text if item.find('pubDate') else ''
        
        # HTML íƒœê·¸ ì œê±° (descriptionì— í¬í•¨ë  ìˆ˜ ìˆìŒ)
        from bs4 import BeautifulSoup
        clean_desc = BeautifulSoup(description, 'html.parser').get_text()
        
        articles.append({
            'ì œëª©': title,
            'ì„¤ëª…': clean_desc[:100] + '...' if len(clean_desc) > 100 else clean_desc,
            'ë§í¬': link,
            'ë°œí–‰ì¼': pub_date,
            'í‚¤ì›Œë“œìˆ˜': len(clean_desc.split())
        })
    
    df = pd.DataFrame(articles)
    
    # ê¸°ë³¸ ë¶„ì„
    print("ğŸ“° RSS í”¼ë“œ ë¶„ì„:")
    print(f"   ì´ ê¸°ì‚¬ ìˆ˜: {len(df)}")
    print(f"   í‰ê·  í‚¤ì›Œë“œ ìˆ˜: {df['í‚¤ì›Œë“œìˆ˜'].mean():.1f}")
    
    # ì œëª©ì—ì„œ ìì£¼ ë‚˜ì˜¤ëŠ” ë‹¨ì–´ ì°¾ê¸° (ê°„ë‹¨í•œ í‚¤ì›Œë“œ ë¶„ì„)
    all_titles = ' '.join(df['ì œëª©'].tolist())
    from collections import Counter
    words = [word for word in all_titles.split() if len(word) > 2]
    common_words = Counter(words).most_common(5)
    
    print("   ì¸ê¸° í‚¤ì›Œë“œ:")
    for word, count in common_words:
        print(f"      {word}: {count}ë²ˆ")
    
    return df

# RSS í”¼ë“œ ì²˜ë¦¬
# news_df = process_rss_feed('rss_feed.xml')
```

### **ì˜ˆì œ 3: ì„¤ì • íŒŒì¼ XML ì²˜ë¦¬**

```python
def process_config_xml(file_path):
    """ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • XMLì„ ë”•ì…”ë„ˆë¦¬ë¡œ ë³€í™˜"""
    with open(file_path, 'r', encoding='utf-8') as f:
        soup = BeautifulSoup(f.read(), 'xml')
    
    config = {}
    
    # ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
    if soup.find('database'):
        db_config = soup.find('database')
        config['database'] = {
            'host': db_config.find('host').text if db_config.find('host') else 'localhost',
            'port': int(db_config.find('port').text) if db_config.find('port') else 3306,
            'username': db_config.find('username').text if db_config.find('username') else '',
            'password': db_config.find('password').text if db_config.find('password') else ''
        }
    
    # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
    if soup.find('app_settings'):
        app_settings = soup.find('app_settings')
        config['app'] = {
            'debug': app_settings.find('debug').text.lower() == 'true' if app_settings.find('debug') else False,
            'max_connections': int(app_settings.find('max_connections').text) if app_settings.find('max_connections') else 100,
            'timeout': int(app_settings.find('timeout').text) if app_settings.find('timeout') else 30
        }
    
    print("âš™ï¸ ì„¤ì • íŒŒì¼ ë¡œë“œ ì™„ë£Œ:")
    for section, settings in config.items():
        print(f"   [{section}]")
        for key, value in settings.items():
            print(f"      {key}: {value}")
    
    return config

# ì„¤ì • íŒŒì¼ ë¡œë“œ
# app_config = process_config_xml('config.xml')
```

---

## ğŸ’¡ **XML ì²˜ë¦¬ ê³ ê¸‰ íŒ & íŠ¸ë¦­**

### **1. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì²˜ë¦¬**

```python
def handle_xml_namespace(file_path):
    """ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ìˆëŠ” XML ì²˜ë¦¬"""
    with open(file_path, 'r', encoding='utf-8') as f:
        soup = BeautifulSoup(f.read(), 'xml')
    
    # ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¬´ì‹œí•˜ê³  íƒœê·¸ëª…ë§Œìœ¼ë¡œ ê²€ìƒ‰
    items = soup.find_all(lambda tag: tag.name and 'item' in tag.name.lower())
    
    return items

# ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì˜ˆì‹œ: <ns1:item>, <soap:item> ë“±
```

### **2. ëŒ€ìš©ëŸ‰ XML ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬**

```python
import xml.sax

class LargeXMLHandler(xml.sax.ContentHandler):
    """ëŒ€ìš©ëŸ‰ XMLì„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬"""
    def __init__(self):
        self.current_element = ""
        self.items_processed = 0
        self.batch_data = []
        self.batch_size = 1000
    
    def startElement(self, name, attrs):
        self.current_element = name
        if name == "item":
            self.current_item = {}
    
    def characters(self, content):
        if self.current_element == "name":
            self.current_item["name"] = content
        elif self.current_element == "value":
            self.current_item["value"] = content
    
    def endElement(self, name):
        if name == "item":
            self.batch_data.append(self.current_item)
            self.items_processed += 1
            
            # ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ (ë©”ëª¨ë¦¬ ì ˆì•½)
            if len(self.batch_data) >= self.batch_size:
                self.process_batch()
                self.batch_data = []
    
    def process_batch(self):
        """ë°°ì¹˜ ë°ì´í„° ì²˜ë¦¬"""
        df_batch = pd.DataFrame(self.batch_data)
        # ì—¬ê¸°ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ë˜ëŠ” íŒŒì¼ ì¶œë ¥
        print(f"ì²˜ë¦¬ëœ ë°°ì¹˜: {len(df_batch)}ê°œ í•­ëª©")

def process_large_xml(file_path):
    """ëŒ€ìš©ëŸ‰ XML íŒŒì¼ ì²˜ë¦¬"""
    handler = LargeXMLHandler()
    xml.sax.parse(file_path, handler)
    
    # ë§ˆì§€ë§‰ ë°°ì¹˜ ì²˜ë¦¬
    if handler.batch_data:
        handler.process_batch()
    
    print(f"âœ… ì´ {handler.items_processed}ê°œ í•­ëª© ì²˜ë¦¬ ì™„ë£Œ")

# ì‚¬ìš©: process_large_xml('huge_file.xml')
```

### **3. XML êµ¬ì¡° ìë™ ë¶„ì„**

```python
def analyze_xml_structure(file_path):
    """XML íŒŒì¼ì˜ êµ¬ì¡°ë¥¼ ìë™ìœ¼ë¡œ ë¶„ì„"""
    with open(file_path, 'r', encoding='utf-8') as f:
        soup = BeautifulSoup(f.read(), 'xml')
    
    # ëª¨ë“  íƒœê·¸ ì´ë¦„ ìˆ˜ì§‘
    all_tags = [tag.name for tag in soup.find_all()]
    tag_counts = pd.Series(all_tags).value_counts()
    
    print("ğŸ“Š XML êµ¬ì¡° ë¶„ì„ ê²°ê³¼:")
    print("   íƒœê·¸ë³„ ë¹ˆë„ìˆ˜:")
    for tag, count in tag_counts.head(10).items():
        print(f"      {tag}: {count}ê°œ")
    
    # ì¤‘ì²© êµ¬ì¡° ë¶„ì„
    max_depth = 0
    
    def get_depth(element, current_depth=0):
        nonlocal max_depth
        max_depth = max(max_depth, current_depth)
        for child in element.children:
            if hasattr(child, 'children'):
                get_depth(child, current_depth + 1)
    
    get_depth(soup)
    print(f"   ìµœëŒ€ ì¤‘ì²© ê¹Šì´: {max_depth}")
    
    # ì†ì„± ë¶„ì„
    elements_with_attrs = [tag for tag in soup.find_all() if tag.attrs]
    print(f"   ì†ì„±ì„ ê°€ì§„ ìš”ì†Œ: {len(elements_with_attrs)}ê°œ")
    
    return {
        'tag_counts': tag_counts,
        'max_depth': max_depth,
        'total_elements': len(all_tags)
    }

# XML êµ¬ì¡° ë¶„ì„ ì‹¤í–‰
# structure_info = analyze_xml_structure('my.xml')
```

---

## ğŸš€ **ì‹¤ë¬´ í™œìš© ì›Œí¬í”Œë¡œìš°**

### **ì™„ì „í•œ XML ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸**

```python
class XMLProcessor:
    """XML íŒŒì¼ì„ ì™„ì „íˆ ì²˜ë¦¬í•˜ëŠ” í†µí•© í´ë˜ìŠ¤"""
    
    def __init__(self, file_path):
        self.file_path = file_path
        self.raw_data = None
        self.processed_data = None
        self.soup = None
    
    def load(self):
        """1ë‹¨ê³„: XML íŒŒì¼ ë¡œë“œ"""
        print(f"ğŸ“‚ {self.file_path} ë¡œë”© ì¤‘...")
        try:
            with open(self.file_path, 'r', encoding='utf-8') as f:
                self.raw_data = f.read()
            
            self.soup = BeautifulSoup(self.raw_data, 'xml')
            print(f"âœ… ë¡œë“œ ì™„ë£Œ ({len(self.raw_data):,}ë°”ì´íŠ¸)")
            return True
            
        except Exception as e:
            print(f"âŒ ë¡œë“œ ì‹¤íŒ¨: {e}")
            return False
    
    def analyze(self):
        """2ë‹¨ê³„: XML êµ¬ì¡° ë¶„ì„"""
        if not self.soup:
            print("âŒ XMLì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")
            return
        
        items = self.soup.find_all('item')
        names = self.soup.find_all('name')
        
        print(f"ğŸ” êµ¬ì¡° ë¶„ì„:")
        print(f"   - ì•„ì´í…œ ìˆ˜: {len(items)}")
        print(f"   - ì´ë¦„ íƒœê·¸ ìˆ˜: {len(names)}")
        
        # ì²« ë²ˆì§¸ ì•„ì´í…œ êµ¬ì¡° í™•ì¸
        if items:
            first_item = items[0]
            children = [child.name for child in first_item.children if child.name]
            print(f"   - ì•„ì´í…œ í•˜ìœ„ íƒœê·¸: {children}")
        
        return len(items), len(names)
    
    def extract_data(self):
        """3ë‹¨ê³„: ë°ì´í„° ì¶”ì¶œ"""
        if not self.soup:
            print("âŒ XMLì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")
            return None
        
        items = self.soup.find_all('item')
        extracted_data = []
        
        for i, item in enumerate(items):
            item_data = {'index': i}
            
            # ëª¨ë“  í•˜ìœ„ íƒœê·¸ì˜ í…ìŠ¤íŠ¸ ì¶”ì¶œ
            for child in item.children:
                if hasattr(child, 'name') and child.name:
                    item_data[child.name] = child.text.strip() if child.text else ''
            
            # ì†ì„± ì¶”ì¶œ
            if item.attrs:
                for attr, value in item.attrs.items():
                    item_data[f'{attr}_attr'] = value
            
            extracted_data.append(item_data)
        
        self.processed_data = pd.DataFrame(extracted_data)
        print(f"âœ… ë°ì´í„° ì¶”ì¶œ ì™„ë£Œ: {self.processed_data.shape}")
        
        return self.processed_data
    
    def clean_data(self):
        """4ë‹¨ê³„: ë°ì´í„° ì •ì œ"""
        if self.processed_data is None:
            print("âŒ ì¶”ì¶œëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.")
            return
        
        print("ğŸ§¹ ë°ì´í„° ì •ì œ ì¤‘...")
        
        # ë¹ˆ ê°’ í™•ì¸
        null_counts = self.processed_data.isnull().sum()
        if null_counts.sum() > 0:
            print(f"   ê²°ì¸¡ê°’ ë°œê²¬: {null_counts[null_counts > 0].to_dict()}")
        
        # ìˆ«ìí˜• ë³€í™˜ ì‹œë„
        for col in self.processed_data.columns:
            if col != 'index':
                # ìˆ«ìë¡œ ë³€í™˜ ê°€ëŠ¥í•œì§€ í™•ì¸
                try:
                    pd.to_numeric(self.processed_data[col])
                    self.processed_data[col] = pd.to_numeric(self.processed_data[col], errors='ignore')
                    print(f"   '{col}' ì»¬ëŸ¼ì„ ìˆ«ìí˜•ìœ¼ë¡œ ë³€í™˜")
                except:
                    pass
        
        print("âœ… ë°ì´í„° ì •ì œ ì™„ë£Œ")
    
    def save_results(self, output_path=None):
        """5ë‹¨ê³„: ê²°ê³¼ ì €ì¥"""
        if self.processed_data is None:
            print("âŒ ì €ì¥í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.")
            return
        
        if not output_path:
            output_path = self.file_path.replace('.xml', '_processed.csv')
        
        self.processed_data.to_csv(output_path, index=False, encoding='utf-8-sig')
        print(f"ğŸ’¾ ê²°ê³¼ ì €ì¥: {output_path}")
        
        # ê¸°ë³¸ í†µê³„ ì¶œë ¥
        print("ğŸ“Š ì²˜ë¦¬ ê²°ê³¼ ìš”ì•½:")
        print(self.processed_data.describe())
    
    def process_complete(self):
        """ì „ì²´ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰"""
        if not self.load():
            return False
        
        self.analyze()
        self.extract_data()
        self.clean_data()
        self.save_results()
        
        return True

# ì‚¬ìš© ì˜ˆì‹œ
processor = XMLProcessor('my.xml')
success = processor.process_complete()

if success:
    print("\nğŸ‰ XML ì²˜ë¦¬ ì™„ë£Œ!")
    # processor.processed_dataë¡œ ê²°ê³¼ ë°ì´í„°í”„ë ˆì„ ì ‘ê·¼ ê°€ëŠ¥
else:
    print("\nâŒ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ")
```

---

## ğŸ“ˆ **ì„±ëŠ¥ ìµœì í™” ë° ë””ë²„ê¹…**

### **XML ì²˜ë¦¬ ì„±ëŠ¥ ì¸¡ì •**

```python
import time
from memory_profiler import profile  # pip install memory-profiler

@profile
def benchmark_xml_parsing(file_path):
    """XML íŒŒì‹± ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬"""
    
    # BeautifulSoup ë°©ì‹
    start_time = time.time()
    with open(file_path, 'r', encoding='utf-8') as f:
        soup = BeautifulSoup(f.read(), 'xml')
    items_bs = soup.find_all('item')
    bs_time = time.time() - start_time
    
    # ElementTree ë°©ì‹
    start_time = time.time()
    tree = ET.parse(file_path)
    root = tree.getroot()
    items_et = root.findall('.//item')
    et_time = time.time() - start_time
    
    print("â±ï¸ ì„±ëŠ¥ ë¹„êµ:")
    print(f"   BeautifulSoup: {bs_time:.4f}ì´ˆ ({len(items_bs)}ê°œ í•­ëª©)")
    print(f"   ElementTree: {et_time:.4f}ì´ˆ ({len(items_et)}ê°œ í•­ëª©)")
    print(f"   ì†ë„ ì°¨ì´: {bs_time/et_time:.2f}ë°°")

# ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰
# benchmark_xml_parsing('my.xml')
```

### **XML ì˜¤ë¥˜ ì§„ë‹¨ ë„êµ¬**

```python
def diagnose_xml_file(file_path):
    """XML íŒŒì¼ì˜ ë¬¸ì œì  ì§„ë‹¨"""
    print(f"ğŸ” {file_path} ì§„ë‹¨ ì¤‘...")
    
    # 1. íŒŒì¼ ì¡´ì¬ í™•ì¸
    import os
    if not os.path.exists(file_path):
        print("âŒ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        return False
    
    # 2. íŒŒì¼ í¬ê¸° í™•ì¸
    file_size = os.path.getsize(file_path)
    print(f"ğŸ“ íŒŒì¼ í¬ê¸°: {file_size:,}ë°”ì´íŠ¸")
    
    # 3. ì¸ì½”ë”© í™•ì¸
    encodings = ['utf-8', 'utf-8-sig', 'euc-kr', 'cp949']
    working_encoding = None
    
    for encoding in encodings:
        try:
            with open(file_path, 'r', encoding=encoding) as f:
                content = f.read(100)  # ì•ì˜ 100ìë§Œ í…ŒìŠ¤íŠ¸
            working_encoding = encoding
            print(f"âœ… ì¸ì½”ë”©: {encoding}")
            break
        except UnicodeDecodeError:
            continue
    
    if not working_encoding:
        print("âŒ ì ì ˆí•œ ì¸ì½”ë”©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
        return False
    
    # 4. XML êµ¬ì¡° ìœ íš¨ì„± ê²€ì‚¬
    try:
        with open(file_path, 'r', encoding=working_encoding) as f:
            content = f.read()
        
        # BeautifulSoupìœ¼ë¡œ íŒŒì‹± í…ŒìŠ¤íŠ¸
        soup = BeautifulSoup(content, 'xml')
        
        if soup.find():
            print("âœ… XML êµ¬ì¡°ê°€ ìœ íš¨í•©ë‹ˆë‹¤.")
            
            # ë£¨íŠ¸ ìš”ì†Œ í™•ì¸
            root_tag = soup.find()
            print(f"ğŸ”– ë£¨íŠ¸ íƒœê·¸: {root_tag.name}")
            
            # ìì£¼ ì‚¬ìš©ë˜ëŠ” íƒœê·¸ë“¤ í™•ì¸
            common_tags = ['item', 'name', 'value', 'data', 'record']
            found_tags = {}
            
            for tag in common_tags:
                count = len(soup.find_all(tag))
                if count > 0:
                    found_tags[tag] = count
            
            if found_tags:
                print("ğŸ·ï¸ ë°œê²¬ëœ ì£¼ìš” íƒœê·¸:")
                for tag, count in found_tags.items():
                    print(f"   {tag}: {count}ê°œ")
            
            return True
            
        else:
            print("âŒ ë¹ˆ XML íŒŒì¼ì…ë‹ˆë‹¤.")
            return False
            
    except Exception as e:
        print(f"âŒ XML íŒŒì‹± ì˜¤ë¥˜: {e}")
        return False

# ì§„ë‹¨ ì‹¤í–‰
# is_valid = diagnose_xml_file('my.xml')
```

---

## ğŸ¯ **ìš”ì•½ ë° ë‹¤ìŒ ë‹¨ê³„**

### **í•µì‹¬ í¬ì¸íŠ¸ ì •ë¦¬**

1. **ê¸°ë³¸ ì½”ë“œ ê°œì„ **: ì˜ˆì™¸ ì²˜ë¦¬ + ì ì ˆí•œ íŒŒì„œ ì„ íƒ
2. **ë‹¤ì–‘í•œ ë°©ë²•**: BeautifulSoup (ì¶”ì²œ) vs ElementTree vs pandas
3. **ì‹¤ì „ ì‘ìš©**: í•™ìƒ ì„±ì , RSS í”¼ë“œ, ì„¤ì • íŒŒì¼ ë“±
4. **ê³ ê¸‰ ê¸°ëŠ¥**: ëŒ€ìš©ëŸ‰ ì²˜ë¦¬, ë„¤ì„ìŠ¤í˜ì´ìŠ¤, êµ¬ì¡° ë¶„ì„
5. **í†µí•© ì†”ë£¨ì…˜**: XMLProcessor í´ë˜ìŠ¤ë¡œ ì™„ì „ ìë™í™”

### **ì œê³µ ì½”ë“œ í™œìš© ê°€ì´ë“œ**

```python
# ì—¬ëŸ¬ë¶„ì˜ ê¸°ë³¸ ì½”ë“œ â†’ ê°œì„ ëœ ë²„ì „
from bs4 import BeautifulSoup

# ê¸°ì¡´ ì½”ë“œ
with open('my.xml', 'r', encoding='utf-8') as f:
    xmlfile = f.read()

soup = BeautifulSoup(xmlfile, 'lxml')  # â†’ 'xml'ë¡œ ë³€ê²½ ê¶Œì¥
itemTag = soup.find_all('item')
nameTag = soup.find_all('name')

# ê°œì„ ëœ ì½”ë“œ (ìœ„ì˜ XMLProcessor ì‚¬ìš©)
processor = XMLProcessor('my.xml')
if processor.process_complete():
    df = processor.processed_data
    print("âœ… ì²˜ë¦¬ ì™„ë£Œ!")
    print(df.head())
```

### **ë‹¤ìŒ í•™ìŠµ ë°©í–¥**

1. **17.03.03**: JSON ë°ì´í„°ì™€ì˜ ì—°ë™ ì²˜ë¦¬
2. **17.03.04**: ì›¹ APIì—ì„œ ì‹¤ì‹œê°„ XML ë°ì´í„° ìˆ˜ì§‘
3. **17.03.05**: XML â†’ ë°ì´í„°ë² ì´ìŠ¤ ìë™ ì €ì¥ ì‹œìŠ¤í…œ
4. **ê³ ê¸‰**: ë¨¸ì‹ ëŸ¬ë‹ì„ ìœ„í•œ XML ë°ì´í„° ì „ì²˜ë¦¬

ì´ì œ ì—¬ëŸ¬ë¶„ì˜ XML ë¶ˆëŸ¬ì˜¤ê¸° ì½”ë“œë¥¼ í•œ ì°¨ì› ë†’ì€ ìˆ˜ì¤€ìœ¼ë¡œ ë°œì „ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸš€