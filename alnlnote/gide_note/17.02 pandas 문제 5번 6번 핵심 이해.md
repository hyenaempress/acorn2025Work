# ğŸ“Š íŒë‹¤ìŠ¤ ë¬¸ì œ 5, 6ë²ˆ ì™„ì „ í•´ê²° ê°€ì´ë“œ

## ğŸ¯ ë¬¸ì œ 5: íƒ€ì´íƒ€ë‹‰ ë°ì´í„° ë¶„ì„

### ğŸ“‹ ë°ì´í„° ì¤€ë¹„
```python
import pandas as pd
import numpy as np

# íƒ€ì´íƒ€ë‹‰ ë°ì´í„° ì½ê¸° (í—¤ë” ì—†ìŒ)
df = pd.read_csv('titanic_data.csv', header=None)

# ì—´ êµ¬ì¡° ì´í•´
# 0: Survived (0=ì‚¬ë§, 1=ìƒì¡´)
# 1: Pclass (1=1ë“±ì„, 2=2ë“±ì„, 3=3ë“±ì„)  
# 2: Sex (male=ë‚¨ì„±, female=ì—¬ì„±)
# 3: Age (ë‚˜ì´)
# ê¸°íƒ€: SibSp, Parch, Ticket, Fare, Cabin, Embarked

print("ë°ì´í„° ê¸°ë³¸ ì •ë³´:")
print(f"í¬ê¸°: {df.shape}")
print(df.head())
```

### ğŸ”ª ë¬¸ì œ 5-1: cut() í•¨ìˆ˜ë¡œ ë‚˜ì´ëŒ€ë³„ ìƒì¡´ì ìˆ˜ ê³„ì‚°

```python
# 1) ë‚˜ì´ëŒ€ êµ¬ê°„ ì„¤ì •
bins = [1, 20, 35, 60, 150]
labels = ["ì†Œë…„", "ì²­ë…„", "ì¥ë…„", "ë…¸ë…„"]

# 2) cut() í•¨ìˆ˜ë¡œ ë‚˜ì´ëŒ€ êµ¬ë¶„
age_groups = pd.cut(df[3], bins=bins, labels=labels)
print("ë‚˜ì´ëŒ€ êµ¬ë¶„ ê²°ê³¼:")
print(age_groups.value_counts())

# 3) ë‚˜ì´ëŒ€ë³„ ìƒì¡´ì ìˆ˜ ê³„ì‚°
survival_by_age = df.groupby(age_groups)[0].sum()
print("\nğŸ“Š ë‚˜ì´ëŒ€ë³„ ìƒì¡´ì ìˆ˜:")
print(survival_by_age)

# 4) ë” ìì„¸í•œ ë¶„ì„ (ë³´ë„ˆìŠ¤)
age_analysis = df.groupby(age_groups).agg({
    0: ['count', 'sum']  # ì´ ì¸ì›, ìƒì¡´ì ìˆ˜
}).round(2)
age_analysis.columns = ['ì´_ì¸ì›', 'ìƒì¡´ì_ìˆ˜']
age_analysis['ìƒì¡´ìœ¨'] = (age_analysis['ìƒì¡´ì_ìˆ˜'] / age_analysis['ì´_ì¸ì›'] * 100).round(1)
print("\nğŸ“ˆ ë‚˜ì´ëŒ€ë³„ ìƒì„¸ ë¶„ì„:")
print(age_analysis)
```

**ğŸ’¡ cut() í•¨ìˆ˜ í•µì‹¬ í¬ì¸íŠ¸:**
- `bins = [1, 20, 35, 60, 150]`: êµ¬ê°„ ê²½ê³„ê°’
- `(1, 20]`: 1ì´ˆê³¼ 20ì´í•˜ â†’ ì†Œë…„
- `(20, 35]`: 20ì´ˆê³¼ 35ì´í•˜ â†’ ì²­ë…„
- ê²°ì¸¡ì¹˜(NaN)ëŠ” ìë™ìœ¼ë¡œ ì œì™¸ë¨

### ğŸ—‚ï¸ ë¬¸ì œ 5-2: pivot_table()ë¡œ ìƒì¡´ìœ¨ ë¶„ì„

#### ğŸ“Š 2-1) ì„±ë³„ Ã— ìŠ¹ì„ ë“±ê¸‰ë³„ ìƒì¡´ìœ¨
```python
# ê¸°ë³¸ í”¼ë´‡í…Œì´ë¸” ìƒì„±
pivot1 = df.pivot_table(
    values=0,        # ìƒì¡´ ì—¬ë¶€ (0ì—´)
    index=2,         # ì„±ë³„ (2ì—´) - í–‰
    columns=1,       # ìŠ¹ì„ ë“±ê¸‰ (1ì—´) - ì—´
    aggfunc='mean'   # í‰ê·  = ìƒì¡´ìœ¨
)

print("ğŸ“Š ì„±ë³„ Ã— ìŠ¹ì„ ë“±ê¸‰ë³„ ìƒì¡´ìœ¨:")
print(pivot1)
print("\në°±ë¶„ìœ¨ë¡œ í‘œì‹œ:")
print((pivot1 * 100).round(2))
```

#### ğŸ“Š 2-2) ì„±ë³„ + ë‚˜ì´ëŒ€ Ã— ìŠ¹ì„ ë“±ê¸‰ë³„ ìƒì¡´ìœ¨ 
```python
# ë‚˜ì´ëŒ€ë¥¼ ë°ì´í„°í”„ë ˆì„ì— ì¶”ê°€
df['age_group'] = pd.cut(df[3], bins=bins, labels=labels)

# ë‹¤ì¤‘ ì¸ë±ìŠ¤ í”¼ë´‡í…Œì´ë¸”
pivot2 = df.pivot_table(
    values=0,                    # ìƒì¡´ ì—¬ë¶€
    index=[2, 'age_group'],      # ì„±ë³„ + ë‚˜ì´ëŒ€ (ë‹¤ì¤‘ ì¸ë±ìŠ¤)
    columns=1,                   # ìŠ¹ì„ ë“±ê¸‰
    aggfunc='mean'               # ìƒì¡´ìœ¨
)

print("ğŸ“Š ì„±ë³„ + ë‚˜ì´ëŒ€ Ã— ìŠ¹ì„ ë“±ê¸‰ë³„ ìƒì¡´ìœ¨:")
print("ë°±ë¶„ìœ¨ í‘œì‹œ (ì†Œìˆ˜ ë‘˜ì§¸ìë¦¬):")
print((pivot2 * 100).round(2))
```

**ğŸ’¡ pivot_table() í•µì‹¬ íŒŒë¼ë¯¸í„°:**
- `values`: ì§‘ê³„í•  ê°’
- `index`: í–‰ì— ë°°ì¹˜í•  ë³€ìˆ˜ (ë¦¬ìŠ¤íŠ¸ë¡œ ë‹¤ì¤‘ ì¸ë±ìŠ¤ ê°€ëŠ¥)
- `columns`: ì—´ì— ë°°ì¹˜í•  ë³€ìˆ˜
- `aggfunc='mean'`: í‰ê·  ê³„ì‚° (ìƒì¡´ìœ¨)

## ğŸ—ƒï¸ ë¬¸ì œ 6: CSV íŒŒì¼ ì²˜ë¦¬

### ğŸ“ ë¬¸ì œ 6-1: human.csv ì²˜ë¦¬

```python
# 1) íŒŒì¼ ì½ê¸° ë° ê¸°ë³¸ í™•ì¸
df_human = pd.read_csv('human.csv')
print("ğŸ“‹ human.csv ê¸°ë³¸ ì •ë³´:")
print(f"í¬ê¸°: {df_human.shape}")
print(f"ì—´ ì´ë¦„: {list(df_human.columns)}")
print("\nì²˜ìŒ 5í–‰:")
print(df_human.head())

# 2) ê²°ì¸¡ì¹˜ í™•ì¸
print("\nê²°ì¸¡ì¹˜ í˜„í™©:")
print(df_human.isnull().sum())

# 3) Groupì´ NAì¸ í–‰ ì‚­ì œ
print(f"\nğŸ”¥ Group NA ì²˜ë¦¬:")
print(f"ì²˜ë¦¬ ì „ í–‰ ìˆ˜: {len(df_human)}")

df_clean = df_human.dropna(subset=['Group'])  # Group ì—´ì˜ NAë§Œ ì²´í¬
print(f"ì²˜ë¦¬ í›„ í–‰ ìˆ˜: {len(df_clean)}")
print(f"ì‚­ì œëœ í–‰ ìˆ˜: {len(df_human) - len(df_clean)}")

# 4) Career, Score ì—´ë§Œ ì¶”ì¶œ
df_subset = df_clean[['Career', 'Score']]
print(f"\nğŸ“Š ì¶”ì¶œëœ ë°ì´í„° (í¬ê¸°: {df_subset.shape}):")
print(df_subset.head())

# 5) í‰ê·  ê³„ì‚°
means = df_subset.mean()
print(f"\nğŸ“ˆ Career, Score í‰ê· :")
print(means)
```

**ğŸ§¹ strip() í•¨ìˆ˜ í™œìš©ë²•:**
```python
# strip() í•¨ìˆ˜ ì˜ˆì‹œ
messy_data = [
    "  í™ê¸¸ë™  \n",      # ì•ë’¤ ê³µë°± + ì¤„ë°”ê¿ˆ
    "\tê¹€ì² ìˆ˜\n  ",       # íƒ­ + ì¤„ë°”ê¿ˆ + ê³µë°±
    "  \nì´ì˜í¬  ",       # ê³µë°± + ì¤„ë°”ê¿ˆ
    "ë°•ë¯¼ìˆ˜\t\n"          # íƒ­ + ì¤„ë°”ê¿ˆ
]

print("ğŸ§¹ strip() í•¨ìˆ˜ íš¨ê³¼:")
for i, data in enumerate(messy_data, 1):
    print(f"{i}. ì›ë³¸: {repr(data)}")     # repr()ë¡œ ìˆ¨ê²¨ì§„ ë¬¸ì í™•ì¸
    print(f"   ì •ì œ: {repr(data.strip())}")  # strip() ì ìš© ê²°ê³¼

# DataFrame ì „ì²´ ë¬¸ìì—´ ì—´ ì •ì œ
def clean_string_columns(df, columns):
    """ë¬¸ìì—´ ì—´ë“¤ì„ stripìœ¼ë¡œ ì •ì œ"""
    df_copy = df.copy()
    for col in columns:
        if df_copy[col].dtype == 'object':
            df_copy[col] = df_copy[col].astype(str).str.strip()
    return df_copy
```

### ğŸ“Š ë¬¸ì œ 6-2: tips.csv ë¶„ì„

```python
# 1) íŒŒì¼ ì½ê¸°
df_tips = pd.read_csv('tips.csv')

# 2) íŒŒì¼ ì •ë³´ í™•ì¸
print("ğŸ“‹ tips.csv íŒŒì¼ ì •ë³´:")
print(df_tips.info())

print(f"\nğŸ“Š ìƒì„¸ ì •ë³´:")
print(f"í–‰ ìˆ˜: {len(df_tips)}")
print(f"ì—´ ìˆ˜: {len(df_tips.columns)}")
print(f"ì—´ ì´ë¦„: {list(df_tips.columns)}")

# 3) ì•ì—ì„œ 3ê°œ í–‰ë§Œ ì¶œë ¥
print(f"\nğŸ” ì²˜ìŒ 3í–‰:")
print(df_tips.head(3))

# 4) ìš”ì•½ í†µê³„ëŸ‰
print(f"\nğŸ“ˆ ìš”ì•½ í†µê³„ëŸ‰:")
print(df_tips.describe())

# ë¬¸ìì—´ í¬í•¨ ì „ì²´ ìš”ì•½
print(f"\nğŸ“Š ì „ì²´ ì—´ ìš”ì•½ (ë¬¸ìì—´ í¬í•¨):")
print(df_tips.describe(include='all'))

# 5) í¡ì—°ì, ë¹„í¡ì—°ì ìˆ˜ ê³„ì‚°
print(f"\nğŸš­ í¡ì—° ì—¬ë¶€ë³„ ê³ ê° ìˆ˜:")
if 'smoker' in df_tips.columns:
    smoker_counts = df_tips['smoker'].value_counts()
    print(smoker_counts)
    print(f"ë¹„í¡ì—°ì: {smoker_counts.get('No', 0)}ëª…")
    print(f"í¡ì—°ì: {smoker_counts.get('Yes', 0)}ëª…")

# 6) ìš”ì¼ ìœ ì¼í•œ ê°’ ì¶œë ¥
print(f"\nğŸ“… ìš”ì¼ ì»¬ëŸ¼ì˜ ìœ ì¼í•œ ê°’ë“¤:")
day_columns = [col for col in df_tips.columns if 'day' in col.lower()]
if day_columns:
    day_col = day_columns[0]
    unique_days = df_tips[day_col].unique()
    print(f"{day_col} ì—´: {unique_days}")
    print("ì˜ˆìƒ ê²°ê³¼: ['Sun' 'Sat' 'Thur' 'Fri']")
else:
    # ëª¨ë“  ì—´ì˜ unique ê°’ í™•ì¸
    print("ëª¨ë“  ì—´ì˜ ê³ ìœ ê°’ í™•ì¸:")
    for col in df_tips.columns:
        unique_count = df_tips[col].nunique()
        print(f"{col}: {unique_count}ê°œ ê³ ìœ ê°’")
        if df_tips[col].dtype == 'object' and unique_count <= 10:
            print(f"  â†’ ê°’ë“¤: {list(df_tips[col].unique())}")
```

## ğŸ¯ í•µì‹¬ í•¨ìˆ˜ ìš”ì•½

### ğŸ“Š ë°ì´í„° íƒìƒ‰
```python
df.head(n)              # ì²˜ìŒ ní–‰
df.tail(n)              # ë§ˆì§€ë§‰ ní–‰
df.info()               # ë°ì´í„° íƒ€ì…, ê²°ì¸¡ì¹˜ ì •ë³´
df.describe()           # ìš”ì•½ í†µê³„ëŸ‰
df.shape                # (í–‰ìˆ˜, ì—´ìˆ˜)
df.columns              # ì—´ ì´ë¦„ë“¤
df.dtypes               # ê° ì—´ì˜ ë°ì´í„° íƒ€ì…
```

### ğŸ” ê³ ìœ ê°’ & ë¹ˆë„
```python
df[col].unique()        # ê³ ìœ ê°’ ë°°ì—´
df[col].nunique()       # ê³ ìœ ê°’ ê°œìˆ˜  
df[col].value_counts()  # ê°’ë³„ ë¹ˆë„ìˆ˜
```

### ğŸ§¹ ê²°ì¸¡ì¹˜ ì²˜ë¦¬
```python
df.isnull()             # ê²°ì¸¡ì¹˜ í™•ì¸ (True/False)
df.isnull().sum()       # ê° ì—´ë³„ ê²°ì¸¡ì¹˜ ê°œìˆ˜
df.dropna()             # ê²°ì¸¡ì¹˜ í¬í•¨ í–‰ ì‚­ì œ
df.dropna(subset=['col']) # íŠ¹ì • ì—´ì˜ ê²°ì¸¡ì¹˜ë§Œ ì²´í¬
df.fillna(value)        # ê²°ì¸¡ì¹˜ë¥¼ íŠ¹ì • ê°’ìœ¼ë¡œ ì±„ìš°ê¸°
```

### ğŸ”„ ë°ì´í„° ë³€í™˜
```python
pd.cut(data, bins, labels)     # ì—°ì†í˜• â†’ ë²”ì£¼í˜• ë³€í™˜
df.pivot_table()               # í”¼ë²— í…Œì´ë¸” ìƒì„±
df.groupby().agg()            # ê·¸ë£¹ë³„ ì§‘ê³„
df[col].str.strip()           # ë¬¸ìì—´ ì–‘ë ê³µë°± ì œê±°
```

## ğŸš€ ì‹¤ì „ ì—°ìŠµ ê³¼ì œ

### ğŸ¯ ë„ì „ ê³¼ì œ 1: íƒ€ì´íƒ€ë‹‰ ì‹¬í™” ë¶„ì„
```python
# ë‹¤ìŒì„ í•œ ë²ˆì— ë¶„ì„í•´ë³´ì„¸ìš”
# 1) ë‚˜ì´ëŒ€ë³„, ì„±ë³„, ë“±ê¸‰ë³„ ìƒì¡´ìœ¨ì„ 3ì°¨ì›ìœ¼ë¡œ ë¶„ì„
# 2) ê°€ì¥ ìƒì¡´ìœ¨ì´ ë†’ì€ ê·¸ë£¹ê³¼ ë‚®ì€ ê·¸ë£¹ ì°¾ê¸°
# 3) ìŠ¹ì„ ë£Œ(Fare)ê°€ ìƒì¡´ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ë¶„ì„

def advanced_titanic_analysis(df):
    """íƒ€ì´íƒ€ë‹‰ ë°ì´í„° ê³ ê¸‰ ë¶„ì„ í•¨ìˆ˜"""
    # ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!
    pass
```

### ğŸ¯ ë„ì „ ê³¼ì œ 2: ë²”ìš© CSV ë¶„ì„ê¸°
```python
def analyze_csv(filename):
    """
    CSV íŒŒì¼ì„ ì½ì–´ì„œ ê¸°ë³¸ ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜
    - íŒŒì¼ ì •ë³´, ê²°ì¸¡ì¹˜, ìš”ì•½í†µê³„, ìƒê´€ê´€ê³„ ë“±ì„ í•œ ë²ˆì— ì¶œë ¥
    """
    # ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!
    pass
```

## ğŸ‰ ë§ˆë¬´ë¦¬

ì´ì œ pandasì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ì™„ì „íˆ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤! âœ¨

**ìŠµë“í•œ ìŠ¤í‚¬:**
- âœ… `cut()` ìœ¼ë¡œ ë°ì´í„° êµ¬ê°„í™”
- âœ… `pivot_table()` ë¡œ ë‹¤ì°¨ì› ë¶„ì„  
- âœ… `dropna()`, `value_counts()`, `unique()` ë“± ê¸°ë³¸ í•¨ìˆ˜ë“¤
- âœ… `strip()` ìœ¼ë¡œ ë°ì´í„° ì •ì œ
- âœ… ê²°ì¸¡ì¹˜ ì²˜ë¦¬ì™€ ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬

**ë‹¤ìŒ ë‹¨ê³„**: ì´ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ì„¸ìš”! ğŸ’ª